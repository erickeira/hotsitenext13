var M=(I,y,s)=>{"use strict";s.d(y,{default:()=>x,U:()=>f});var g=s(872),l=s(7294);let c=()=>{},v=()=>{};function k(t){var n;let{headManager:e,reduceComponentsToState:r}=t;function a(){if(e&&e.mountedInstances){let o=l.Children.toArray(Array.from(e.mountedInstances).filter(Boolean));e.updateHead(r(o,t))}}return e==null||(n=e.mountedInstances)==null||n.add(t.children),a(),c(()=>{var o;return e==null||(o=e.mountedInstances)==null||o.add(t.children),()=>{var d;e==null||(d=e.mountedInstances)==null||d.delete(t.children)}}),c(()=>(e&&(e._pendingUpdate=a),()=>{e&&(e._pendingUpdate=a)})),v(()=>(e&&e._pendingUpdate&&(e._pendingUpdate(),e._pendingUpdate=null),()=>{e&&e._pendingUpdate&&(e._pendingUpdate(),e._pendingUpdate=null)})),null}var w=s(1032),S=s(4401);function U({ampFirst:t=!1,hybrid:n=!1,hasQuery:e=!1}={}){return t||n&&e}function f(t=!1){let n=[l.createElement("meta",{charSet:"utf-8"})];return t||n.push(l.createElement("meta",{name:"viewport",content:"width=device-width"})),n}function _(t,n){return typeof n=="string"||typeof n=="number"?t:n.type===l.Fragment?t.concat(l.Children.toArray(n.props.children).reduce((e,r)=>typeof r=="string"||typeof r=="number"?e:e.concat(r),[])):t.concat(n)}let h=["name","httpEquiv","charSet","itemProp"];function C(){let t=new Set,n=new Set,e=new Set,r={};return a=>{let o=!0,d=!1;if(a.key&&typeof a.key!="number"&&a.key.indexOf("$")>0){d=!0;let p=a.key.slice(a.key.indexOf("$")+1);t.has(p)?o=!1:t.add(p)}switch(a.type){case"title":case"base":n.has(a.type)?o=!1:n.add(a.type);break;case"meta":for(let p=0,A=h.length;p<A;p++){let i=h[p];if(a.props.hasOwnProperty(i))if(i==="charSet")e.has(i)?o=!1:e.add(i);else{let m=a.props[i],u=r[i]||new Set;(i!=="name"||!d)&&u.has(m)?o=!1:(u.add(m),r[i]=u)}}}return o}}function b(t,n){let{inAmpMode:e}=n;return t.reduce(_,[]).reverse().concat(f(e).reverse()).filter(C()).reverse().map((r,a)=>{let o=r.key||a;if(!e&&r.type==="link"&&r.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some(d=>r.props.href.startsWith(d))){let d=(0,g.Z)({},r.props||{});return d["data-href"]=d.href,d.href=void 0,d["data-optimized-fonts"]=!0,l.cloneElement(r,d)}return l.cloneElement(r,{key:o})})}function E({children:t}){let n=(0,l.useContext)(w.C),e=(0,l.useContext)(S.V);return l.createElement(k,{reduceComponentsToState:b,headManager:e,inAmpMode:U(n)},t)}let x=E};export{M as default};
