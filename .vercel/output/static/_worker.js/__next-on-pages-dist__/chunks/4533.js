var P=(L,d,h)=>{"use strict";h.d(d,{c:()=>l});var p=h(1629),m=h(1929),g=h(619),f=h(5430);let n=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|::1|localhost)/;function u(b,s){return new URL(String(b).replace(n,"localhost"),s&&String(s).replace(n,"localhost"))}let t=Symbol("NextURLInternal");class l{constructor(s,e,a){let i,r;typeof e=="object"&&"pathname"in e||typeof e=="string"?(i=e,r=a||{}):r=a||e||{},this[t]={url:u(s,i??r.base),options:r,basePath:""},this.analyzeUrl()}analyzeUrl(){var s,e,a,i,r;let o=(0,f.a)(this[t].url.pathname,{nextConfig:this[t].options.nextConfig,parseData:!0});this[t].domainLocale=(0,p.D)((s=this[t].options.nextConfig)==null||(e=s.i18n)==null?void 0:e.domains,(0,g.F)(this[t].url,this[t].options.headers));let c=((a=this[t].domainLocale)==null?void 0:a.defaultLocale)||((i=this[t].options.nextConfig)==null||(r=i.i18n)==null?void 0:r.defaultLocale);this[t].url.pathname=o.pathname,this[t].defaultLocale=c,this[t].basePath=o.basePath??"",this[t].buildId=o.buildId,this[t].locale=o.locale??c,this[t].trailingSlash=o.trailingSlash}formatPathname(){return(0,m.R)({basePath:this[t].basePath,buildId:this[t].buildId,defaultLocale:this[t].options.forceLocale?void 0:this[t].defaultLocale,locale:this[t].locale,pathname:this[t].url.pathname,trailingSlash:this[t].trailingSlash})}formatSearch(){return this[t].url.search}get buildId(){return this[t].buildId}set buildId(s){this[t].buildId=s}get locale(){return this[t].locale??""}set locale(s){var e,a;if(!this[t].locale||!(!((e=this[t].options.nextConfig)==null||(a=e.i18n)==null)&&a.locales.includes(s)))throw TypeError(`The NextURL configuration includes no locale "${s}"`);this[t].locale=s}get defaultLocale(){return this[t].defaultLocale}get domainLocale(){return this[t].domainLocale}get searchParams(){return this[t].url.searchParams}get host(){return this[t].url.host}set host(s){this[t].url.host=s}get hostname(){return this[t].url.hostname}set hostname(s){this[t].url.hostname=s}get port(){return this[t].url.port}set port(s){this[t].url.port=s}get protocol(){return this[t].url.protocol}set protocol(s){this[t].url.protocol=s}get href(){let s=this.formatPathname(),e=this.formatSearch();return`${this.protocol}//${this.host}${s}${e}${this.hash}`}set href(s){this[t].url=u(s),this.analyzeUrl()}get origin(){return this[t].url.origin}get pathname(){return this[t].url.pathname}set pathname(s){this[t].url.pathname=s}get hash(){return this[t].url.hash}set hash(s){this[t].url.hash=s}get search(){return this[t].url.search}set search(s){this[t].url.search=s}get password(){return this[t].url.password}set password(s){this[t].url.password=s}get username(){return this[t].url.username}set username(s){this[t].url.username=s}get basePath(){return this[t].basePath}set basePath(s){this[t].basePath=s.startsWith("/")?s:`/${s}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new l(String(this),this[t].options)}}};export{P as default};
