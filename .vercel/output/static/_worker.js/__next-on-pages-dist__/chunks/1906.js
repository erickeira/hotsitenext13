var ie=(le,H,p)=>{"use strict";p.d(H,{default:()=>Y});var P=p(6119),a=p(7294),C=p(6602),z=p(9194),A=p(2293),U=p(9588),q=p(9970),T=p(9043);let x=typeof IntersectionObserver=="function",M=new Map,E=[];function F(e){let o,n={root:e.root||null,margin:e.rootMargin||""},t=E.find(u=>u.root===n.root&&u.margin===n.margin);if(t&&(o=M.get(t)))return o;let i=new Map,c=new IntersectionObserver(u=>{u.forEach(s=>{let h=i.get(s.target),d=s.isIntersecting||s.intersectionRatio>0;h&&d&&h(d)})},e);return o={id:n,observer:c,elements:i},E.push(n),M.set(n,o),o}function V(e,o,n){let{id:t,observer:i,elements:c}=F(n);return c.set(e,o),i.observe(e),function(){if(c.delete(e),i.unobserve(e),c.size===0){i.disconnect(),M.delete(t);let u=E.findIndex(s=>s.root===t.root&&s.margin===t.margin);u>-1&&E.splice(u,1)}}}function W({rootRef:e,rootMargin:o,disabled:n}){let t=n||!x,[i,c]=(0,a.useState)(!1),[u,s]=(0,a.useState)(null);(0,a.useEffect)(()=>{if(x){if(!t&&!i&&u&&u.tagName)return V(u,y=>y&&c(y),{root:e?.current,rootMargin:o})}else if(!i){let d=(0,T.K)(()=>c(!0));return()=>(0,T.G)(d)}},[u,t,o,e,i]);let h=(0,a.useCallback)(()=>{c(!1)},[]);return[s,i,h]}function Z(e,o,n,t){return!1}var $=p(7833);function J(e){let{target:o}=e.currentTarget;return o&&o!=="_self"||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&e.nativeEvent.which===2}function Q(e,o,n,t,i,c,u,s,h,d){let{nodeName:y}=e.currentTarget;if(y.toUpperCase()==="A"&&(J(e)||!(0,C.tn)(n)))return;e.preventDefault();let g=()=>{"beforePopState"in o?o[i?"replace":"push"](n,t,{shallow:c,locale:s,scroll:u}):o[i?"replace":"push"](t||n,{forceOptimisticNavigation:!d})};h?a.startTransition(g):g()}function R(e){return typeof e=="string"?e:(0,z.CN)(e)}let X=a.forwardRef(function(e,o){let n,t,{href:i,as:c,children:u,prefetch:s,passHref:h,replace:d,shallow:y,scroll:I,locale:g,onClick:K,onMouseEnter:N,onTouchStart:O,legacyBehavior:f=!1}=e,ee=(0,P.Z)(e,["href","as","children","prefetch","passHref","replace","shallow","scroll","locale","onClick","onMouseEnter","onTouchStart","legacyBehavior"]);n=u,f&&(typeof n=="string"||typeof n=="number")&&(n=a.createElement("a",null,n));let j=s!==!1,l=a.useContext(U._),te=a.useContext(q.pk),w=l??te,ne=!l,{href:m,as:v}=a.useMemo(()=>{if(!l){let G=R(i);return{href:G,as:c?R(c):G}}let[r,S]=(0,C.cG)(l,i,!0);return{href:r,as:c?(0,C.cG)(l,c):S||r}},[l,i,c]),L=a.useRef(m),_=a.useRef(v);f&&(t=a.Children.only(n));let b=f?t&&typeof t=="object"&&t.ref:o,[B,oe,D]=W({rootMargin:"200px"}),re=a.useCallback(r=>{(_.current!==v||L.current!==m)&&(D(),_.current=v,L.current=m),B(r),b&&(typeof b=="function"?b(r):typeof b=="object"&&(b.current=r))},[v,b,m,D,B]);a.useEffect(()=>{},[v,m,oe,g,j,l?.locale,w]);let k={ref:re,onClick(r){f||typeof K!="function"||K(r),f&&t.props&&typeof t.props.onClick=="function"&&t.props.onClick(r),w&&!r.defaultPrevented&&Q(r,w,m,v,d,y,I,g,ne,j)},onMouseEnter(r){f||typeof N!="function"||N(r),f&&t.props&&typeof t.props.onMouseEnter=="function"&&t.props.onMouseEnter(r)},onTouchStart(r){f||typeof O!="function"||O(r),f&&t.props&&typeof t.props.onTouchStart=="function"&&t.props.onTouchStart(r)}};if(!f||h||t.type==="a"&&!("href"in t.props)){let r=g!==void 0?g:l?.locale,S=l?.isLocaleDomain&&Z(v,r,l?.locales,l?.domainLocales);k.href=S||(0,$.n)((0,A.b)(v,r,l?.defaultLocale))}return f?a.cloneElement(t,k):a.createElement("a",Object.assign({},ee,k),n)}),Y=X};export{ie as default};
