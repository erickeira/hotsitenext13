var sa=(Gt,We,g)=>{"use strict";let B,K,U;function Ge(l){return new TextEncoder().encode(l).buffer.byteLength}g.d(We,{d:()=>Wt});var W,q=g(1768),H=g(1987),Je=g(1981),le=g(8478);function Ve(l){return l===le.Jp.experimentalEdge||l===le.Jp.edge}var E=g(4474),X=g(7707);function De(l){return function(){let e=l.cookie;if(!e)return{};let{parse:t}=g(738);return t(Array.isArray(e)?e.join(";"):e)}}function Xe(l,e){return{isManualRevalidate:l.headers["x-prerender-revalidate"]===e.previewModeId,revalidateOnlyGenerated:!!l.headers["x-prerender-revalidate-if-generated"]}}function Ye({req:l},e,t){let a={configurable:!0,enumerable:!0},r={...a,writable:!0};Object.defineProperty(l,e,{...a,get:()=>{let i=t();return Object.defineProperty(l,e,{...r,value:i}),i},set:i=>{Object.defineProperty(l,e,{...r,value:i})}})}Symbol("__next_preview_data"),Symbol("__prerender_bypass");var _=g(5130),he=g(8849),Q=g(558),me=g(6228),Me=g(5145),Ke=g(1929),Ee=g(5430),Z=g(5861),N=g(1190),j=g(1216);class Qe{constructor({headers:e=[],fsRoutes:t=[],rewrites:a={beforeFiles:[],afterFiles:[],fallback:[]},redirects:r=[],catchAllRoute:i,catchAllMiddleware:s=[],matchers:o,useFileSystemPublicRoutes:c,nextConfig:n,localeNormalizer:h}){this.nextConfig=n,this.headers=e,this.fsRoutes=[...t],this.rewrites=a,this.redirects=r,this.catchAllRoute=i,this.catchAllMiddleware=s,this.matchers=o,this.useFileSystemPublicRoutes=c,this.localeNormalizer=h,this.compiledRoutes=this.compileRoutes(),this.needsRecompilation=!1}get basePath(){return this.nextConfig.basePath||""}setCatchallMiddleware(e){this.catchAllMiddleware=e,this.needsRecompilation=!0}addFsRoute(e){this.fsRoutes.unshift(e),this.needsRecompilation=!0}compileRoutes(){let[e]=this.catchAllMiddleware;return[...e?this.fsRoutes.filter(t=>t.name==="_next/data catchall").map(t=>({...t,name:"_next/data normalizing",check:!1})):[],...this.headers,...this.redirects,...this.useFileSystemPublicRoutes&&e?[e]:[],...this.rewrites.beforeFiles,...this.fsRoutes,...this.useFileSystemPublicRoutes?[{type:"route",name:"page checker",match:(0,Q.B)("/:path*"),fn:async(t,a,r,i,s)=>{var o;let c=(0,Z.Q)(i.pathname||"/"),n={skipDynamic:!0,i18n:(o=this.localeNormalizer)==null?void 0:o.match(c,{inferDefaultLocale:!0})};return await this.matchers.test(c,n)?this.catchAllRoute.fn(t,a,r,i,s):{finished:!1}}}]:[],...this.rewrites.afterFiles,...this.rewrites.fallback.length?[{type:"route",name:"dynamic route/page check",match:(0,Q.B)("/:path*"),fn:async(t,a,r,i,s)=>({finished:await this.checkFsRoutes(t,a,i,s)})},...this.rewrites.fallback]:[],...this.useFileSystemPublicRoutes?[this.catchAllRoute]:[]].map(t=>t.fn?{...t,fn:(0,N.Yz)().wrap(j.SU.executeRoute,{attributes:{route:t.name}},t.fn)}:t)}async checkFsRoutes(e,t,a,r){var i;let s=(0,Me.n)(a.pathname,this.basePath);for(let f of this.fsRoutes){let d=f.match(s);if(!d)continue;let{finished:p}=await f.fn(e,t,d,{...a,pathname:s});if(p)return!0}let o={i18n:(i=this.localeNormalizer)==null?void 0:i.match(s,{inferDefaultLocale:!0})};if(!await this.matchers.test(s,o))return!1;let n=this.catchAllRoute.match(a.pathname);if(!n)throw Error("Invariant: could not match params, this is an internal error please open an issue.");let{finished:h}=await this.catchAllRoute.fn(e,t,n,{...a,pathname:s,query:{...a.query,_nextBubbleNoFallback:"1"}},r);return h}async execute(e,t,a,r){this.needsRecompilation&&(this.compiledRoutes=this.compileRoutes(),this.needsRecompilation=!1);let i={...a,query:{...a.query}};for(let o of this.compiledRoutes){var s;if(r&&o.type!=="rewrite")continue;let c=i.pathname,n=(0,Ee.a)(c,{nextConfig:this.nextConfig,parseData:!1});if(n.locale&&!o.matchesLocaleAPIRoutes&&(0,he.Q)(n.pathname))continue;(0,_.OX)(e,"_nextHadBasePath")&&(n.basePath=this.basePath);let h=n.basePath;o.matchesBasePath||(n.basePath=""),o.matchesLocale&&i.query.__nextLocale&&!n.locale&&(n.locale=i.query.__nextLocale),!o.matchesLocale&&n.locale===((s=this.nextConfig.i18n)==null?void 0:s.defaultLocale)&&n.locale&&(n.locale=void 0),o.matchesTrailingSlash&&(0,_.OX)(e,"__nextHadTrailingSlash")&&(n.trailingSlash=!0);let f=(0,Ke.R)({ignorePrefix:!0,...n}),d=o.match(f);if((o.has||o.missing)&&d){let p=(0,me.H4)(e,i.query,o.has,o.missing);p?Object.assign(d,p):d=!1}if((!d||!this.basePath||o.matchesBasePath||(0,_.OX)(e,"_nextDidRewrite")||h)&&d){let p=o.name==="_next/data normalizing";p&&(0,_.kL)(e,"_nextDataNormalizing",!0),i.pathname=f;let u=await o.fn(e,t,d,i,r);if(p&&(0,_.kL)(e,"_nextDataNormalizing",!1),u.finished||(u.pathname?i.pathname=u.pathname:i.pathname=c,u.query&&(i.query={...(0,_.f0)(i.query),...u.query}),o.check&&await this.checkFsRoutes(e,t,i)))return!0}}return!1}}function Le(l,e){if(e.private||e.stateful)(e.private||!l.getHeader("Cache-Control"))&&l.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");else if(typeof e.revalidate=="number"){if(e.revalidate<1)throw Error(`invariant: invalid Cache-Control duration provided: ${e.revalidate} < 1`);l.setHeader("Cache-Control",`s-maxage=${e.revalidate}, stale-while-revalidate`)}else e.revalidate===!1&&l.setHeader("Cache-Control","s-maxage=31536000, stale-while-revalidate")}function Ze(l){return E.Xn.includes(l)}function ge(l){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(l)}var ee=g(4137),ye=g(4929),Y=g(136);B=g(844).Z;let et={wait:B.cyan("wait")+"  -",error:B.red("error")+" -",warn:B.yellow("warn")+"  -",ready:B.green("ready")+" -",info:B.cyan("info")+"  -",event:B.magenta("event")+" -",trace:B.magenta("trace")+" -"};function tt(...l){console.warn(et.warn,...l)}var de=g(1629);function at(l,e){return l.replace(RegExp(`([/#?]${e?"|%(2f|23|3f)":""})`,"gi"),t=>encodeURIComponent(t))}var ve=g(627),we=g(7995);function rt(l,e,t){let a=new Map,r=l.replace(/[ \t]/g,"");if(e){let h=0;for(let f of e){let d=f.toLowerCase();if(a.set(d,{orig:f,pos:h++}),t.prefixMatch){let p=d.split("-");for(;p.pop(),p.length>0;){let u=p.join("-");a.has(u)||a.set(u,{orig:f,pos:h++})}}}}let i=r.split(","),s=[],o=new Set;for(let h=0;h<i.length;++h){let f=i[h];if(!f)continue;let d=f.split(";");if(d.length>2)throw Error(`Invalid ${t.type} header`);let p=d[0].toLowerCase();if(!p)throw Error(`Invalid ${t.type} header`);let u={token:p,pos:h,q:1};if(e&&a.has(p)&&(u.pref=a.get(p).pos),o.add(u.token),d.length===2){let y=d[1],[b,x]=y.split("=");if(!x||b!=="q"&&b!=="Q")throw Error(`Invalid ${t.type} header`);let m=parseFloat(x);if(m===0)continue;Number.isFinite(m)&&m<=1&&m>=.001&&(u.q=m)}s.push(u)}s.sort((h,f)=>f.q!==h.q?f.q-h.q:f.pref!==h.pref?h.pref===void 0?1:f.pref===void 0?-1:h.pref-f.pref:h.pos-f.pos);let c=s.map(h=>h.token);if(!e||!e.length)return c;let n=[];for(let h of c)if(h==="*")for(let[f,d]of a)o.has(f)||n.push(d.orig);else{let f=h.toLowerCase();a.has(f)&&n.push(a.get(f).orig)}return n}function it(l="",e){return rt(l,e,{type:"accept-language",prefixMatch:!0})[0]||""}function st(l,e){let{NEXT_LOCALE:t}=l.cookies||{};return t?e.find(a=>t.toLowerCase()===a.toLowerCase()):void 0}var nt=g(738),Jt=g.n(nt),G=g(7532);function Oe(l,e,t,a,r){if(a&&e&&r){let i=(0,H.parse)(l.url,!0);for(let s of(delete i.search,t||Object.keys(r.groups)))delete i.query[s];l.url=(0,H.format)(i)}}function ke(l,e,t){if(!t)return l;for(let a of Object.keys(t.groups)){let{optional:r,repeat:i}=t.groups[a],s=`[${i?"...":""}${a}]`;r&&(s=`[${s}]`);let o=l.indexOf(s);if(o>-1){let c,n=e[a];c=Array.isArray(n)?n.map(h=>h&&encodeURIComponent(h)).join("/"):n?encodeURIComponent(n):"",l=l.slice(0,o)+c+l.slice(o+s.length)}}return l}function ot({page:l,i18n:e,basePath:t,rewrites:a,pageIsDynamic:r,trailingSlash:i}){let s,o,c;return r&&(s=(0,ve.JV)(l),c=(o=(0,we.t)(s))(l)),{handleLocale:function(n,h,f,d,p){let u,y;if(!e)return;let b=f.pathname||"/",x=e.defaultLocale,m=st(n,e.locales);try{u=e.localeDetection!==!1?it(n.headers["accept-language"],e.locales):m}catch{u=m}let{host:w}=n.headers||{},v=w&&w.split(":")[0].toLowerCase(),C=(0,de.D)(e.domains,v);C&&(m=x=C.defaultLocale,(0,_.kL)(n,"__nextIsLocaleDomain",!0)),m=m||u;let R=(0,Y.h)(b,e.locales);if(d=(0,Y.h)(d,e.locales).pathname,R.detectedLocale&&(m=R.detectedLocale,n.url=(0,H.format)({...f,pathname:R.pathname}),(0,_.kL)(n,"__nextStrippedLocale",!0),f.pathname=R.pathname),C){let S=R.detectedLocale?m:u,k=(0,de.D)(e.domains,void 0,S);k&&k.domain!==C.domain&&(y=`http${k.http?"":"s"}://${k.domain}/${S===k.defaultLocale?"":S}`)}let D=(0,ye.s)(b),O=!m||m.toLowerCase()===x.toLowerCase();if(m=m||e.defaultLocale,!p&&!n.headers["x-vercel-id"]&&e.localeDetection!==!1&&(y||!O&&D==="/")){h.setHeader("Location",(0,H.format)({...f,pathname:y||`${t}/${m}`})),h.statusCode=E.o3,h.end();return}return{defaultLocale:x,detectedLocale:m=R.detectedLocale||C&&C.defaultLocale||x,routeNoAssetPath:d}},handleRewrites:function(n,h){let f={},d=h.pathname,p=u=>{let y=(0,Q.B)(u.source+(i?"(/)?":""),{removeUnnamedParams:!0,strict:!0}),b=y(h.pathname);if((u.has||u.missing)&&b){let x=(0,me.H4)(n,h.query,u.has,u.missing);x?Object.assign(b,x):b=!1}if(b){let{parsedDestination:x,destQuery:m}=(0,me.j8)({appendParamsToQuery:!0,destination:u.destination,params:b,query:h.query});if(x.protocol)return!0;if(Object.assign(f,m,b),Object.assign(h.query,x.query),delete x.query,Object.assign(h,x),d=h.pathname,t&&(d=d.replace(RegExp(`^${t}`),"")||"/"),e){let w=(0,Y.h)(d,e.locales);d=w.pathname,h.query.nextInternalLocale=w.detectedLocale||b.nextInternalLocale}if(d===l)return!0;if(r&&o){let w=o(d);if(w)return h.query={...h.query,...w},!0}}return!1};for(let u of a.beforeFiles||[])p(u);if(d!==l){let u=!1;for(let y of a.afterFiles||[])if(u=p(y))break;if(!u&&!(()=>{let y=(0,Z.Q)(d||"");return y===(0,Z.Q)(l)||o?.(y)})()){for(let y of a.fallback||[])if(u=p(y))break}}return f},handleBasePath:function(n,h){n.url=n.url.replace(RegExp(`^${t}`),"")||"/",h.pathname=h.pathname.replace(RegExp(`^${t}`),"")||"/"},defaultRouteRegex:s,dynamicRouteMatcher:o,defaultRouteMatches:c,getParamsFromRouteMatches:function(n,h,f){return(0,we.t)(function(){let{groups:d,routeKeys:p}=s;return{re:{exec:u=>{let y=Object.fromEntries(new URLSearchParams(u)),b=e&&f&&y[1]===f,x=Object.keys(p||{}),m=w=>{if(e){let v=Array.isArray(w),C=v?w[0]:w;if(typeof C=="string"&&e.locales.some(R=>R.toLowerCase()===C.toLowerCase()&&(f=R,h.locale=f,!0)))return v&&w.splice(0,1),!v||w.length===0}return!1};return x.every(w=>y[w])?x.reduce((w,v)=>{let C=p?.[v];return C&&!m(y[v])&&(w[d[C].pos]=y[v]),w},{}):Object.keys(y).reduce((w,v)=>{if(!m(y[v])){let C=v;return b&&(C=parseInt(v,10)-1+""),Object.assign(w,{[C]:y[v]})}return w},{})}},groups:d}}())(n.headers["x-now-route-matches"])},normalizeDynamicRouteParams:function(n,h){let f=!0;return s?{params:n=Object.keys(s.groups).reduce((d,p)=>{let u=n[p];typeof u=="string"&&(u=(0,G.W)(u,!0)),Array.isArray(u)&&(u=u.map(m=>(typeof m=="string"&&(m=(0,G.W)(m,!0)),m)));let y=c[p],b=s.groups[p].optional;return((Array.isArray(y)?y.some(m=>Array.isArray(u)?u.some(w=>w.includes(m)):u?.includes(m)):u?.includes(y))||u===void 0&&!(b&&h))&&(f=!1),b&&(!u||Array.isArray(u)&&u.length===1&&(u[0]==="index"||u[0]===`[[...${p}]]`))&&(u=void 0,delete n[p]),u&&typeof u=="string"&&s.groups[p].repeat&&(u=u.split("/")),u&&(d[p]=u),d},{}),hasValidParams:f}:{params:n,hasValidParams:!1}},normalizeVercelUrl:(n,h,f)=>Oe(n,h,f,r,s),interpolateDynamicPath:(n,h)=>ke(n,h,s)}}var se=g(9136),lt=g(619),ht=g(656),J=g(1238);class dt{handlers={};set(e,t){if(e in this.handlers)throw Error("Invariant: duplicate route handler added for kind");this.handlers[e]=t}async handle(e,t,a,r,i){let s=this.handlers[e.definition.kind];if(!s)return!1;let o=await s.handle(e,t,a,r,i);return!i||o}}class ct{constructor(e,t){this.locales=e,this.defaultLocale=t,this.lowerCase=e.map(a=>a.toLowerCase())}match(e,t){let a=t?.inferDefaultLocale?this.defaultLocale:void 0;if(this.locales.length===0)return{detectedLocale:a,pathname:e};let r=e.split("/");if(!r[1])return{detectedLocale:a,pathname:e};let i=r[1].toLowerCase(),s=this.lowerCase.indexOf(i);return s<0?{detectedLocale:a,pathname:e}:{detectedLocale:a=this.locales[s],pathname:e=e.slice(a.length+1)||"/"}}normalize(e){return this.match(e).pathname}}class xe{insert(e){this._insert(e.split("/").filter(Boolean),[],!1)}smoosh(){return this._smoosh()}_smoosh(e="/"){let t=[...this.children.keys()].sort();this.slugName!==null&&t.splice(t.indexOf("[]"),1),this.restSlugName!==null&&t.splice(t.indexOf("[...]"),1),this.optionalRestSlugName!==null&&t.splice(t.indexOf("[[...]]"),1);let a=t.map(r=>this.children.get(r)._smoosh(`${e}${r}/`)).reduce((r,i)=>[...r,...i],[]);if(this.slugName!==null&&a.push(...this.children.get("[]")._smoosh(`${e}[${this.slugName}]/`)),!this.placeholder){let r=e==="/"?"/":e.slice(0,-1);if(this.optionalRestSlugName!=null)throw Error(`You cannot define a route with the same specificity as a optional catch-all route ("${r}" and "${r}[[...${this.optionalRestSlugName}]]").`);a.unshift(r)}return this.restSlugName!==null&&a.push(...this.children.get("[...]")._smoosh(`${e}[...${this.restSlugName}]/`)),this.optionalRestSlugName!==null&&a.push(...this.children.get("[[...]]")._smoosh(`${e}[[...${this.optionalRestSlugName}]]/`)),a}_insert(e,t,a){if(e.length===0){this.placeholder=!1;return}if(a)throw Error("Catch-all must be the last part of the URL.");let r=e[0];if(r.startsWith("[")&&r.endsWith("]")){let o=function(c,n){if(c!==null&&c!==n)throw Error(`You cannot use different slug names for the same dynamic path ('${c}' !== '${n}').`);t.forEach(h=>{if(h===n)throw Error(`You cannot have the same slug name "${n}" repeat within a single dynamic path`);if(h.replace(/\W/g,"")===r.replace(/\W/g,""))throw Error(`You cannot have the slug names "${h}" and "${n}" differ only by non-word symbols within a single dynamic path`)}),t.push(n)},i=r.slice(1,-1),s=!1;if(i.startsWith("[")&&i.endsWith("]")&&(i=i.slice(1,-1),s=!0),i.startsWith("...")&&(i=i.substring(3),a=!0),i.startsWith("[")||i.endsWith("]"))throw Error(`Segment names may not start or end with extra brackets ('${i}').`);if(i.startsWith("."))throw Error(`Segment names may not start with erroneous periods ('${i}').`);if(a)if(s){if(this.restSlugName!=null)throw Error(`You cannot use both an required and optional catch-all route at the same level ("[...${this.restSlugName}]" and "${e[0]}" ).`);o(this.optionalRestSlugName,i),this.optionalRestSlugName=i,r="[[...]]"}else{if(this.optionalRestSlugName!=null)throw Error(`You cannot use both an optional and required catch-all route at the same level ("[[...${this.optionalRestSlugName}]]" and "${e[0]}").`);o(this.restSlugName,i),this.restSlugName=i,r="[...]"}else{if(s)throw Error(`Optional route parameters are not yet supported ("${e[0]}").`);o(this.slugName,i),this.slugName=i,r="[]"}}this.children.has(r)||this.children.set(r,new xe),this.children.get(r)._insert(e.slice(1),t,a)}constructor(){this.placeholder=!0,this.children=new Map,this.slugName=null,this.restSlugName=null,this.optionalRestSlugName=null}}function ut(l){let e=new xe;return l.forEach(t=>e.insert(t)),e.smoosh()}class ne{constructor(e){this.definition=e,(0,X.$)(e.pathname)&&(this.dynamic=(0,we.t)((0,ve.vG)(e.pathname)))}get identity(){return this.definition.pathname}get isDynamic(){return this.dynamic!==void 0}match(e){let t=this.test(e);return t?{definition:this.definition,params:t.params}:null}test(e){if(this.dynamic){let t=this.dynamic(e);return t?{params:t}:null}return e===this.definition.pathname?{}:null}}class Ce extends ne{get identity(){var e;return`${this.definition.pathname}?__nextLocale=${(e=this.definition.i18n)==null?void 0:e.locale}`}match(e,t){var a,r;let i=this.test(e,t);return i?{definition:this.definition,params:i.params,detectedLocale:(t==null||(a=t.i18n)==null?void 0:a.detectedLocale)??((r=this.definition.i18n)==null?void 0:r.locale)}:null}test(e,t){return this.definition.i18n&&t?.i18n?this.definition.i18n.locale&&t.i18n.detectedLocale&&this.definition.i18n.locale!==t.i18n.detectedLocale?null:super.test(t.i18n.pathname):super.test(e)}}var pt=g(2374);class ft{providers=[];matchers={static:[],dynamic:[],duplicates:{}};lastCompilationID=this.compilationID;get compilationID(){return this.providers.length}waitTillReady(){return this.waitTillReadyPromise??Promise.resolve()}previousMatchers=[];async reload(){let e;this.waitTillReadyPromise=new Promise((a,r)=>{e={resolve:a,reject:r}});let t=this.compilationID;try{let a=[],r=await Promise.all(this.providers.map(d=>d.matchers())),i=new Map,s={};for(let d of r)for(let p of d){let u=i.get(p.definition.pathname);if(u){let y=s[p.definition.pathname]??[u];y.push(p),s[p.definition.pathname]=y,u.duplicated=y,p.duplicated=y}a.push(p),i.set(p.definition.pathname,p)}if(this.matchers.duplicates=s,this.previousMatchers.length===a.length&&this.previousMatchers.every((d,p)=>d===a[p]))return;this.previousMatchers=a,this.matchers.static=a.filter(d=>!d.isDynamic);let o=a.filter(d=>d.isDynamic),c=new Map,n=[];for(let d=0;d<o.length;d++){let p=o[d].definition.pathname,u=c.get(p)??[];u.push(d),u.length===1&&(c.set(p,u),n.push(p))}let h=ut(n),f=[];for(let d of h){let p=c.get(d);if(!Array.isArray(p))throw Error("Invariant: expected to find identity in indexes map");for(let u of p)f.push(o[u])}if(this.matchers.dynamic=f,this.compilationID!==t)throw Error("Invariant: expected compilation to finish before new matchers were added, possible missing await")}catch(a){e.reject(a)}finally{this.lastCompilationID=t,e.resolve()}}push(e){this.providers.push(e)}async test(e,t){return await this.match(e,t)!==null}async match(e,t){for await(let a of this.matchAll(e,t))return a;return null}validate(e,t,a){return t instanceof Ce?t.match(e,a):t.match(e)}async*matchAll(e,t){if(this.lastCompilationID!==this.compilationID)throw Error("Invariant: expected routes to have been loaded before match");if(e=(0,pt.e)(e),!(0,X.$)(e))for(let a of this.matchers.static){let r=this.validate(e,a,t);r&&(yield r)}if(t?.skipDynamic)return null;for(let a of this.matchers.dynamic){let r=this.validate(e,a,t);r&&(yield r)}return null}}function mt(l){return l.endsWith("/page")}let L=g(1864);(function(l){l.PAGES="PAGES",l.PAGES_API="PAGES_API",l.APP_PAGE="APP_PAGE",l.APP_ROUTE="APP_ROUTE"})(W||(W={}));class gt extends ne{get identity(){return`${this.definition.pathname}?__nextParallelPaths=${this.definition.appPaths.join(",")}}`}}class yt{constructor(e){this.loader=e,this.cached=[]}async matchers(){let e=await this.loader.load();if(!e)return[];if(this.data&&this.loader.compare(this.data,e))return this.cached;this.data=e;let t=await this.transform(e);return this.cached=t,t}}class ce extends yt{constructor(e,t){super({load:async()=>t.load(e),compare:(a,r)=>a===r})}}class vt extends ce{constructor(e,t){super(E.M,t),this.distDir=e}async transform(e){let t=Object.keys(e).filter(i=>mt(i)),a={};for(let i of t){let s=(0,G.w)(i);s in a?a[s].push(i):a[s]=[i]}let r=[];for(let[i,s]of Object.entries(a)){let o=s[0],c=L.join(this.distDir,E.cV,e[o]),n=L.join("app",o);r.push(new gt({kind:W.APP_PAGE,pathname:i,page:o,bundlePath:n,filename:c,appPaths:s}))}return r}}function wt(l){return l.endsWith("/route")}let xt=["robots.txt","sitemap.xml"];function Ct(l){let e=l.replace(/^app\//,"").replace(/^\//,"");return xt.includes(e)}class bt extends ne{}class Rt extends ce{constructor(e,t){super(E.M,t),this.distDir=e}async transform(e){let t=Object.keys(e).filter(r=>wt(r)||Ct(r)),a=[];for(let r of t){let i=(0,G.w)(r),s=L.join(this.distDir,E.cV,e[r]),o=L.join("app",r);a.push(new bt({kind:W.APP_ROUTE,pathname:i,page:r,bundlePath:o,filename:s}))}return a}}var te=g(3002);class Pt extends ne{}class _t extends Ce{}class St extends ce{constructor(e,t,a){super(E.Ek,t),this.distDir=e,this.localeNormalizer=a}async transform(e){let t=Object.keys(e).filter(r=>(0,he.Q)(r)),a=[];for(let r of t)if(this.localeNormalizer){let{detectedLocale:i,pathname:s}=this.localeNormalizer.match(r);a.push(new _t({kind:W.PAGES_API,pathname:s,page:r,bundlePath:L.join("pages",(0,te.y)(r)),filename:L.join(this.distDir,E.cV,e[r]),i18n:{locale:i}}))}else a.push(new Pt({kind:W.PAGES_API,pathname:r,page:r,bundlePath:L.join("pages",(0,te.y)(r)),filename:L.join(this.distDir,E.cV,e[r])}));return a}}class Dt extends ne{}class Mt extends Ce{}class Et extends ce{constructor(e,t,a){super(E.Ek,t),this.distDir=e,this.localeNormalizer=a}async transform(e){let t=Object.keys(e).filter(r=>!(0,he.Q)(r)).filter(r=>{var i;let s=((i=this.localeNormalizer)==null?void 0:i.normalize(r))??r;return!E.Xn.includes(s)}),a=[];for(let r of t)if(this.localeNormalizer){let{detectedLocale:i,pathname:s}=this.localeNormalizer.match(r);a.push(new Mt({kind:W.PAGES,pathname:s,page:r,bundlePath:L.join("pages",(0,te.y)(r)),filename:L.join(this.distDir,E.cV,e[r]),i18n:{locale:i}}))}else a.push(new Dt({kind:W.PAGES,pathname:r,page:r,bundlePath:L.join("pages",(0,te.y)(r)),filename:L.join(this.distDir,E.cV,e[r])}));return a}}class Lt{constructor(e){this.getter=e}load(e){return this.getter(e)}}var Vt=g(5784),Xt=g(7294),Yt=g(1234),Ae=g(8928),Kt=g(7834),Qt=g(9380),Zt=g(4401),ea=g(2905);let ta=l=>typeof l=="string"?l:l.toString();Symbol("internal for headers readonly"),Symbol("internal for cookies readonly");var aa=g(725),ra=g(9079),ia=g(4533);async function Te(l,e,t){}class ue extends Error{}class be extends Error{constructor(e){super(),this.innerError=e}}class Ot{constructor(e){var t,a,r;let{dir:i=".",quiet:s=!1,conf:o,dev:c=!1,minimalMode:n=!1,customServer:h=!0,hostname:f,port:d}=e;this.serverOptions=e,this.dir=i,this.quiet=s,this.loadEnvConfig({dev:c}),this.nextConfig=o,this.hostname=f,this.port=d,this.distDir=this.nextConfig.distDir,this.publicDir=this.getPublicDir(),this.hasStaticDir=!n&&this.getHasStaticDir(),this.localeNormalizer=((t=this.nextConfig.i18n)==null?void 0:t.locales)&&this.nextConfig.i18n.defaultLocale?new ct(this.nextConfig.i18n.locales,this.nextConfig.i18n.defaultLocale):void 0;let{serverRuntimeConfig:p={},publicRuntimeConfig:u,assetPrefix:y,generateEtags:b}=this.nextConfig;this.buildId=this.getBuildId(),this.minimalMode=n||!!process.env.NEXT_PRIVATE_MINIMAL_MODE,this.hasAppDir=!!this.nextConfig.experimental.appDir&&this.getHasAppDir(c);let x=this.hasAppDir;this.serverComponentManifest=x?this.getServerComponentManifest():void 0,this.serverCSSManifest=x?this.getServerCSSManifest():void 0,this.nextFontManifest=this.getNextFontManifest(),this.renderOpts={poweredByHeader:this.nextConfig.poweredByHeader,canonicalBase:this.nextConfig.amp.canonicalBase||"",buildId:this.buildId,generateEtags:b,previewProps:this.getPreviewProps(),customServer:h===!0||void 0,ampOptimizerConfig:(a=this.nextConfig.experimental.amp)==null?void 0:a.optimizer,basePath:this.nextConfig.basePath,images:this.nextConfig.images,optimizeFonts:this.nextConfig.optimizeFonts,fontManifest:this.nextConfig.optimizeFonts&&!c?this.getFontManifest():void 0,optimizeCss:this.nextConfig.experimental.optimizeCss,nextConfigOutput:this.nextConfig.output,nextScriptWorkers:this.nextConfig.experimental.nextScriptWorkers,disableOptimizedLoading:this.nextConfig.experimental.disableOptimizedLoading,domainLocales:(r=this.nextConfig.i18n)==null?void 0:r.domains,distDir:this.distDir,serverComponents:x,crossOrigin:this.nextConfig.crossOrigin?this.nextConfig.crossOrigin:void 0,largePageDataBytes:this.nextConfig.experimental.largePageDataBytes,runtimeConfig:Object.keys(u).length>0?u:void 0},this.pagesManifest=this.getPagesManifest(),this.appPathsManifest=this.getAppPathsManifest();let{matchers:m,handlers:w}=this.getRoutes();this.matchers=m,this.handlers=w,m.reload(),this.customRoutes=this.getCustomRoutes(),this.router=new Qe(this.generateRoutes()),this.setAssetPrefix(y),this.responseCache=this.getResponseCache({dev:c})}getRoutes(){let e=new Lt(r=>{switch(r){case E.Ek:return this.getPagesManifest()??null;case E.M:return this.getAppPathsManifest()??null;default:return null}}),t=new ft,a=new dt;return t.push(new Et(this.distDir,e,this.localeNormalizer)),t.push(new St(this.distDir,e,this.localeNormalizer)),this.hasAppDir&&(t.push(new vt(this.distDir,e)),t.push(new Rt(this.distDir,e))),{matchers:t,handlers:a}}logError(e){this.quiet||console.error(e)}async handleRequest(e,t,a){return(0,N.Yz)().trace(j._J.handleRequest,async()=>await this.handleRequestImpl(e,t,a))}async handleRequestImpl(e,t,a){try{var r,i,s,o,c,n;await this.matchers.waitTillReady();let h=t.originalResponse||t,f=h.setHeader.bind(h);h.setHeader=(m,w)=>{if(m.toLowerCase()==="set-cookie"){let v=(0,_.OX)(e,"_nextMiddlewareCookie");v&&Array.isArray(w)&&w.every((C,R)=>C===v[R])||(w=[...v||[],...typeof w=="string"?[w]:Array.isArray(w)?w:[]])}return f(m,w)};let d=(e.url||"").split("?"),p=d[0];if(p?.match(/(\\|\/\/)/)){let m=(0,q.U3)(e.url);t.redirect(m,308).body(m).send();return}Ye({req:e},"cookies",De(e.headers)),a&&typeof a=="object"||(a=(0,H.parse)(e.url,!0)),typeof a.query=="string"&&(a.query=Object.fromEntries(new URLSearchParams(a.query))),this.minimalMode&&e.url.endsWith(".rsc")&&(a.query.__nextDataReq="1"),e.url=(0,G.W)(e.url,this.hasAppDir),a.pathname=(0,G.W)(a.pathname||"",this.hasAppDir),this.attachRequestMeta(e,a);let u=(0,de.D)((r=this.nextConfig.i18n)==null?void 0:r.domains,(0,lt.F)(a,e.headers)),y=u?.defaultLocale||((i=this.nextConfig.i18n)==null?void 0:i.defaultLocale),b=(0,ht.e)(e.url.replace(/^\/+/,"/")),x=(0,Ee.a)(b.pathname,{nextConfig:this.nextConfig});if(b.pathname=x.pathname,x.basePath&&(e.url=(0,Me.n)(e.url,this.nextConfig.basePath),(0,_.kL)(e,"_nextHadBasePath",!0)),this.minimalMode&&typeof e.headers["x-matched-path"]=="string")try{this.hasAppDir&&(e.url.match(/^\/index($|\?)/)&&(e.url=e.url.replace(/^\/index/,"/")),a.pathname=a.pathname==="/index"?"/":a.pathname);let m=(0,G.W)(new URL(e.headers["x-matched-path"],"http://localhost").pathname,this.hasAppDir),w=new URL(e.url,"http://localhost").pathname;w.startsWith("/_next/data/")&&(a.query.__nextDataReq="1");let v=this.stripNextDataPath(w);m=this.stripNextDataPath(m,!1);let C={i18n:(s=this.localeNormalizer)==null?void 0:s.match(m)};(o=C.i18n)!=null&&o.detectedLocale&&(a.query.__nextLocale=C.i18n.detectedLocale);let R=m=(0,ye.s)(m),D=await this.matchers.match(m,C);D&&(R=D.definition.pathname);let O=D?.params!==void 0;m=((c=C.i18n)==null?void 0:c.pathname)??m;let S=ot({pageIsDynamic:O,page:R,i18n:this.nextConfig.i18n,basePath:this.nextConfig.basePath,rewrites:this.customRoutes.rewrites});y&&!x.locale&&(a.pathname=`/${y}${a.pathname}`);let k=a.pathname,Re=S.handleRewrites(e,a),V=Object.keys(Re),ae=k!==a.pathname;if(ae&&((0,_.kL)(e,"_nextRewroteUrl",a.pathname),(0,_.kL)(e,"_nextDidRewrite",!0)),O){let A={},$=S.normalizeDynamicRouteParams(a.query);if(!$.hasValidParams&&O&&!(0,X.$)(v)){let F=S.dynamicRouteMatcher==null?void 0:S.dynamicRouteMatcher(v);F&&(S.normalizeDynamicRouteParams(F),Object.assign($.params,F),$.hasValidParams=!0)}if($.hasValidParams&&(A=$.params),e.headers["x-now-route-matches"]&&(0,X.$)(m)&&!$.hasValidParams){let F={},Pe=S.getParamsFromRouteMatches(e,F,a.query.__nextLocale||"");F.locale&&(a.query.__nextLocale=F.locale),($=S.normalizeDynamicRouteParams(Pe,!0)).hasValidParams&&(A=$.params)}O&&S.defaultRouteMatches&&v===R&&!$.hasValidParams&&!S.normalizeDynamicRouteParams({...A},!0).hasValidParams&&(A=S.defaultRouteMatches),A&&(m=S.interpolateDynamicPath(R,A),e.url=S.interpolateDynamicPath(e.url,A)),Object.assign(a.query,A)}(O||ae)&&S.normalizeVercelUrl(e,!0,[...V,...Object.keys(((n=S.defaultRouteRegex)==null?void 0:n.groups)||{})]),a.pathname=`${this.nextConfig.basePath||""}${m==="/"&&this.nextConfig.basePath?"":m}`,b.pathname=a.pathname}catch(m){if(m instanceof q._9||m instanceof q.KM)return t.statusCode=400,this.renderError(null,e,t,"/_error",{});throw m}return(0,_.kL)(e,"__nextHadTrailingSlash",x.trailingSlash),(0,_.kL)(e,"__nextIsLocaleDomain",Boolean(u)),a.query.__nextDefaultLocale=y,x.locale&&(e.url=(0,H.format)(b),(0,_.kL)(e,"__nextStrippedLocale",!0)),(!this.minimalMode||!a.query.__nextLocale)&&(x.locale||y)&&(a.query.__nextLocale=x.locale||y),t.statusCode=200,await this.run(e,t,a)}catch(h){if(h&&typeof h=="object"&&h.code==="ERR_INVALID_URL"||h instanceof q._9||h instanceof q.KM)return t.statusCode=400,this.renderError(null,e,t,"/_error",{});if(this.minimalMode||this.renderOpts.dev)throw h;this.logError((0,se.S)(h)),t.statusCode=500,t.body("Internal Server Error").send()}}getRequestHandler(){return this.handleRequest.bind(this)}async handleUpgrade(e,t,a){}setAssetPrefix(e){this.renderOpts.assetPrefix=e?e.replace(/\/$/,""):""}async prepare(){}async close(){}getPreviewProps(){return this.getPrerenderManifest().preview}async _beforeCatchAllRender(e,t,a,r){return!1}getAppPathRoutes(){let e={};return Object.keys(this.appPathsManifest||{}).forEach(t=>{let a=(0,G.w)(t);e[a]||(e[a]=[]),e[a].push(t)}),e}async run(e,t,a){return(0,N.Yz)().trace(j._J.run,async()=>this.runImpl(e,t,a))}async runImpl(e,t,a){if(this.handleCompression(e,t),!globalThis.__incrementalCache&&!(0,_.OX)(e,"_nextIncrementalCache")){let r=this.getIncrementalCache({requestHeaders:Object.assign({},e.headers)});(0,_.kL)(e,"_nextIncrementalCache",r)}try{if(await this.router.execute(e,t,a))return}catch(r){if(r instanceof q._9||r instanceof q.KM)return t.statusCode=400,this.renderError(null,e,t,"/_error",{});throw r}await this.render404(e,t,a)}async pipe(e,t){return(0,N.Yz)().trace(j._J.pipe,async()=>this.pipeImpl(e,t))}async pipeImpl(e,t){let a=ge(t.req.headers["user-agent"]||""),r={...t,renderOpts:{...this.renderOpts,supportsDynamicHTML:!a,isBot:!!a}},i=await e(r);if(i===null)return;let{req:s,res:o}=r,{body:c,type:n,revalidateOptions:h}=i;if(!o.sent){let{generateEtags:f,poweredByHeader:d,dev:p}=this.renderOpts;return p&&o.setHeader("Cache-Control","no-store, must-revalidate"),this.sendRenderResult(s,o,{result:c,type:n,generateEtags:f,poweredByHeader:d,options:h})}}async getStaticHTML(e,t){let a=await e({...t,renderOpts:{...this.renderOpts,supportsDynamicHTML:!1}});return a===null?null:a.body.toUnchunkedString()}async render(e,t,a,r={},i,s=!1){return(0,N.Yz)().trace(j._J.render,async()=>this.renderImpl(e,t,a,r,i,s))}async renderImpl(e,t,a,r={},i,s=!1){var o;return a.startsWith("/")||console.warn(`Cannot render page with path "${a}", did you mean "/${a}"?. See more info here: https://nextjs.org/docs/messages/render-no-starting-slash`),this.renderOpts.customServer&&a==="/index"&&!await this.hasPage("/index")&&(a="/"),!s&&!this.minimalMode&&!r.__nextDataReq&&(((o=e.url)==null?void 0:o.match(/^\/_next\//))||this.hasStaticDir&&e.url.match(/^\/static\//))?this.handleRequest(e,t,i):(this.renderOpts.customServer&&this.handleCompression(e,t),Ze(a)?this.render404(e,t,i):this.pipe(c=>this.renderToResponse(c),{req:e,res:t,pathname:a,query:r}))}async getStaticPaths({pathname:e}){var t;let a=(t=this.getPrerenderManifest().dynamicRoutes[e])==null?void 0:t.fallback;return{staticPaths:void 0,fallbackMode:typeof a=="string"?"static":a===null?"blocking":a}}async renderToResponseWithComponents(e,t){return(0,N.Yz)().trace(j._J.renderToResponseWithComponents,async()=>this.renderToResponseWithComponentsImpl(e,t))}async renderToResponseWithComponentsImpl({req:e,res:t,pathname:a,renderOpts:r},{components:i,query:s}){var o,c,n,h,f;let d,p,u=a==="/404",y=a==="/500",b=i.isAppPath,x=!!i.getServerSideProps,m=!!i.getStaticPaths,w=!!((o=i.Component)!=null&&o.getInitialProps),v=!!i.getStaticProps,C=(0,H.parse)(e.url||"").pathname||"/",R=(0,_.OX)(e,"_nextRewroteUrl")||C;if(b){let M=await this.getStaticPaths({pathname:a,originalAppPath:i.pathname,requestHeaders:e.headers});d=M.staticPaths,p=M.fallbackMode;let P=p!==void 0;if(P&&(m=!0),P||d?.includes(R))v=!0;else if(!this.renderOpts.dev){let I=this.getPrerenderManifest();v=v||!!I.routes[a==="/index"?"/":a]}}let D=!!(s.__nextDataReq||e.headers["x-nextjs-data"]&&this.serverOptions.webServerConfig)&&(v||x);if(!v&&e.headers["x-middleware-prefetch"]&&!(u||a==="/_error"))return t.setHeader("x-middleware-skip","1"),t.body("{}").send(),null;if(b&&(t.setHeader("vary",J.Am),v&&e.headers[J.i4.toLowerCase()]&&(this.minimalMode||(D=!0),!Ve(r.runtime)||this.serverOptions.webServerConfig)))for(let M of J.vu)delete e.headers[M.toString().toLowerCase()];delete s.__nextDataReq,v&&this.minimalMode&&e.headers["x-matched-path"]&&e.url.startsWith("/_next/data")&&(e.url=this.stripNextDataPath(e.url)),e.headers["x-nextjs-data"]&&(!t.statusCode||t.statusCode===200)&&t.setHeader("x-nextjs-matched-path",`${s.__nextLocale?`/${s.__nextLocale}`:""}${a}`);let O=Boolean(this.serverComponentManifest&&e.headers[J.i4.toLowerCase()]);if(!b&&O&&t.setHeader("vary",J.Am),!u||D||O||(t.statusCode=404),E.Er.includes(a)&&(t.statusCode=parseInt(a.slice(1),10)),!u&&!y&&a!=="/_error"&&e.method!=="HEAD"&&e.method!=="GET"&&(typeof i.Component=="string"||v))return t.statusCode=405,t.setHeader("Allow",["GET","HEAD"]),await this.renderError(null,e,t,a),null;if(typeof i.Component=="string")return{type:"html",body:ee.Z.fromStatic(i.Component)};if(s.amp||delete s.amp,r.supportsDynamicHTML===!0){let M=ge(e.headers["user-agent"]||""),P=typeof((f=i.Document)==null?void 0:f.getInitialProps)!="function"||E.wU in i.Document;r.supportsDynamicHTML=!v&&!M&&!s.amp&&P,r.isBot=M}let S=v?(c=this.nextConfig.i18n)==null?void 0:c.defaultLocale:s.__nextDefaultLocale,k=s.__nextLocale,Re=(n=this.nextConfig.i18n)==null?void 0:n.locales,V=!1,ae=!1;v&&({isManualRevalidate:V,revalidateOnlyGenerated:ae}=Xe(e,this.renderOpts.previewProps)),v&&this.minimalMode&&e.headers["x-matched-path"]&&(R=C),C=(0,Z.Q)(C),R=(0,Y.h)((0,Z.Q)(R),(h=this.nextConfig.i18n)==null?void 0:h.locales).pathname,D&&(R=this.stripNextDataPath(R),C=this.stripNextDataPath(C));let A=!v||r.supportsDynamicHTML?null:`${k?`/${k}`:""}${(a==="/"||R==="/")&&k?"":R}${s.amp?".amp":""}`;(u||y)&&v&&(A=`${k?`/${k}`:""}${a}${s.amp?".amp":""}`),A&&(A=(A=A.split("/").map(M=>{try{M=at(decodeURIComponent(M),!0)}catch{throw new q._9("failed to decode param")}return M}).join("/"))==="/index"&&a==="/"?"/":A);let $=globalThis.__incrementalCache||this.getIncrementalCache({requestHeaders:Object.assign({},e.headers)}),F=!1,Pe=async()=>{let M,P,I,oe,fe,Ne=!(v||m),je=a==="/_error"||u||y?void 0:(0,_.OX)(e,"_nextMatch");if(je){let z=await this.handlers.handle(je,e,t,{supportsDynamicHTML:Ne,incrementalCache:$},v);if(z)return await Te(e,t,z),null}let _e=(0,H.parse)(e.url||"",!0).query;r.params&&Object.keys(r.params).forEach(z=>{delete _e[z]});let Fe=C!=="/"&&this.nextConfig.trailingSlash,ze=(0,H.format)({pathname:`${R}${Fe?"/":""}`,query:_e}),ie={...i,...r,...b&&this.nextConfig.experimental.appDir?{incrementalCache:$,isRevalidate:this.minimalMode||F}:{},isDataReq:D,resolvedUrl:ze,locale:k,locales:Re,defaultLocale:S,resolvedAsPath:x||w?(0,H.format)({pathname:`${C}${Fe?"/":""}`,query:_e}):ze,supportsDynamicHTML:Ne},Be=await this.renderHTML(e,t,a,s,ie);if(M=ie.pageData,P=ie.revalidate,I=ie.isNotFound,oe=ie.isRedirect,b&&v&&P===0&&!this.renderOpts.dev){let z=ie.staticBailoutInfo||{},Se=Error(`Page changed from static to dynamic at runtime ${C}${z.description?`, reason: ${z.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`);if(z.stack){let Ue=z.stack;Se.stack=Se.message+Ue.substring(Ue.indexOf(`
`))}throw Se}if(I)fe=null;else if(oe)fe={kind:"REDIRECT",props:M};else{if(!Be)return null;fe={kind:"PAGE",html:Be,pageData:M}}return{revalidate:P,value:fe}},pe=await this.responseCache.get(A,async(M,P)=>{if(this.renderOpts.dev,(0,X.$)(a),M||t.sent,P&&(F=!0),d||({staticPaths:d,fallbackMode:p}=m?await this.getStaticPaths({pathname:a,requestHeaders:e.headers}):{staticPaths:void 0,fallbackMode:!1}),p==="static"&&ge(e.headers["user-agent"]||"")&&(p="blocking"),V&&ae&&!P&&!this.minimalMode)return await this.render404(e,t),null;V&&(p!==!1||P)&&(p="blocking");let I=await Pe();return I?{...I,revalidate:I.revalidate!==void 0?I.revalidate:1}:null},{incrementalCache:$,isManualRevalidate:V,isPrefetch:e.headers.purpose==="prefetch"});if(!pe){if(A&&!(V&&ae))throw Error("invariant: cache entry required but not generated");return null}v&&!this.minimalMode&&t.setHeader("x-nextjs-cache",V?"REVALIDATED":pe.isMiss?"MISS":pe.isStale?"STALE":"HIT");let{revalidate:Ie,value:T}=pe,re=Ie===void 0||this.renderOpts.dev&&(!x||D)?void 0:{private:u&&T,stateful:!v,revalidate:Ie};if(T){if(T.kind==="REDIRECT")return re&&Le(t,re),D?{type:"json",body:ee.Z.fromStatic(JSON.stringify(T.props)),revalidateOptions:re}:(await(M=>{let P={destination:M.pageProps.__N_REDIRECT,statusCode:M.pageProps.__N_REDIRECT_STATUS,basePath:M.pageProps.__N_REDIRECT_BASE_PATH},I=(0,Je.WW)(P),{basePath:oe}=this.nextConfig;oe&&P.basePath!==!1&&P.destination.startsWith("/")&&(P.destination=`${oe}${P.destination}`),P.destination.startsWith("/")&&(P.destination=(0,q.U3)(P.destination)),t.redirect(P.destination,I).body(P.destination).send()})(T.props),null);if(T.kind==="IMAGE")throw Error("invariant SSG should not return an image cache value");if(T.kind==="ROUTE")return await Te(e,t,new Response(T.body,{headers:new Headers(T.headers||{}),status:T.status||200})),null;if(b){if(D&&typeof T.pageData!="string")throw Error("invariant: Expected pageData to be a string for app data request but received "+typeof T.pageData+". This is a bug in Next.js.");return{type:D?"rsc":"html",body:D?ee.Z.fromStatic(T.pageData):T.html}}return{type:D?"json":"html",body:D?ee.Z.fromStatic(JSON.stringify(T.pageData)):T.html,revalidateOptions:re}}return re&&Le(t,re),D?(t.statusCode=404,t.body('{"notFound":true}').send(),null):(this.renderOpts.dev&&(s.__nextNotFoundSrcPage=a),await this.render404(e,t,{pathname:a,query:s},!1),null)}stripNextDataPath(e,t=!0){if(e.includes(this.buildId)){let a=e.substring(e.indexOf(this.buildId)+this.buildId.length);e=(0,ye.s)(a.replace(/\.json$/,""))}if(this.nextConfig.i18n&&t){let{locales:a}=this.nextConfig.i18n;return(0,Y.h)(e,a).pathname}return e}getOriginalAppPaths(e){if(this.hasAppDir){var t;return((t=this.appPathRoutes)==null?void 0:t[e])||null}return null}async renderPageComponent(e,t){var a;let{query:r,pathname:i}=e,s=this.getOriginalAppPaths(i),o=Array.isArray(s),c=i;o&&(c=s[0]);let n=await this.findPageComponents({pathname:c,query:r,params:e.renderOpts.params||{},isAppPath:o,sriEnabled:!!((a=this.nextConfig.experimental.sri)!=null&&a.algorithm),appPaths:s,shouldEnsure:!1});if(n)try{return await this.renderToResponseWithComponents(e,n)}catch(h){let f=h instanceof ue;if(!f||f&&t)throw h}return!1}async renderToResponse(e){return(0,N.Yz)().trace(j._J.renderToResponse,async()=>this.renderToResponseImpl(e))}async renderToResponseImpl(e){var t;let{res:a,query:r,pathname:i}=e,s=!!r._nextBubbleNoFallback;delete r._nextBubbleNoFallback;let o={i18n:(t=this.localeNormalizer)==null?void 0:t.match(i)};try{for await(let c of this.matchers.matchAll(i,o)){let n=await this.renderPageComponent({...e,pathname:c.definition.pathname,renderOpts:{...e.renderOpts,params:c.params}},s);if(n!==!1)return n}if(this.serverOptions.webServerConfig){e.pathname=this.serverOptions.webServerConfig.page;let c=await this.renderPageComponent(e,s);if(c!==!1)return c}}catch(c){let n=(0,se.S)(c);if(c instanceof q.At)throw console.error("Invariant: failed to load static page",JSON.stringify({page:i,url:e.req.url,matchedPath:e.req.headers["x-matched-path"],initUrl:(0,_.OX)(e.req,"__NEXT_INIT_URL"),didRewrite:(0,_.OX)(e.req,"_nextDidRewrite"),rewroteUrl:(0,_.OX)(e.req,"_nextRewroteUrl")},null,2)),n;if(n instanceof ue&&s)throw n;if(n instanceof q._9||n instanceof q.KM)return a.statusCode=400,await this.renderErrorToResponse(e,n);a.statusCode=500,await this.hasPage("/500")&&(e.query.__nextCustomErrorRender="1",await this.renderErrorToResponse(e,n),delete e.query.__nextCustomErrorRender);let h=n instanceof be;if(!h){if(this.minimalMode,this.renderOpts.dev)throw(0,se.Z)(n)&&(n.page=i),n;this.logError((0,se.S)(n))}return await this.renderErrorToResponse(e,h?n.innerError:n)}return this.router.catchAllMiddleware[0]&&e.req.headers["x-nextjs-data"]&&(!a.statusCode||a.statusCode===200||a.statusCode===404)?(a.setHeader("x-nextjs-matched-path",`${r.__nextLocale?`/${r.__nextLocale}`:""}${i}`),a.statusCode=200,a.setHeader("content-type","application/json"),a.body("{}"),a.send(),null):(a.statusCode=404,this.renderErrorToResponse(e,null))}async renderToHTML(e,t,a,r={}){return(0,N.Yz)().trace(j._J.renderToHTML,async()=>this.renderToHTMLImpl(e,t,a,r))}async renderToHTMLImpl(e,t,a,r={}){return this.getStaticHTML(i=>this.renderToResponse(i),{req:e,res:t,pathname:a,query:r})}async renderError(e,t,a,r,i={},s=!0){return(0,N.Yz)().trace(j._J.renderError,async()=>this.renderErrorImpl(e,t,a,r,i,s))}async renderErrorImpl(e,t,a,r,i={},s=!0){return s&&a.setHeader("Cache-Control","no-cache, no-store, max-age=0, must-revalidate"),this.pipe(async o=>{let c=await this.renderErrorToResponse(o,e);if(this.minimalMode&&a.statusCode===500)throw e;return c},{req:t,res:a,pathname:r,query:i})}customErrorNo404Warn=(0,q.gf)(()=>{tt(`You have added a custom /_error page without a custom /404 page. This prevents the 404 page from being auto statically optimized.
See here for info: https://nextjs.org/docs/messages/custom-error-no-custom-404`)});async renderErrorToResponse(e,t){return(0,N.Yz)().trace(j._J.renderErrorToResponse,async()=>this.renderErrorToResponseImpl(e,t))}async renderErrorToResponseImpl(e,t){let{res:a,query:r}=e;try{let i=null;a.statusCode===404&&await this.hasPage("/404")&&(i=await this.findPageComponents({pathname:"/404",query:r,params:{},isAppPath:!1,shouldEnsure:!0}));let o=`/${a.statusCode}`;if(!e.query.__nextCustomErrorRender&&!i&&E.Er.includes(o)&&(o!=="/500"||!this.renderOpts.dev)&&(i=await this.findPageComponents({pathname:o,query:r,params:{},isAppPath:!1,shouldEnsure:!0})),i||(i=await this.findPageComponents({pathname:"/_error",query:r,params:{},isAppPath:!1,shouldEnsure:!0}),o="/_error"),!i){if(this.renderOpts.dev)return{type:"html",body:ee.Z.fromStatic(`
              <pre>missing required error components, refreshing...</pre>
              <script>
                async function check() {
                  const res = await fetch(location.href).catch(() => ({}))

                  if (res.status === 200) {
                    location.reload()
                  } else {
                    setTimeout(check, 1000)
                  }
                }
                check()
              <\/script>`)};throw new be(Error("missing required error components"))}try{return await this.renderToResponseWithComponents({...e,pathname:o,renderOpts:{...e.renderOpts,err:t}},i)}catch(c){throw c instanceof ue?Error("invariant: failed to render error page"):c}}catch(i){let s=(0,se.S)(i),o=s instanceof be;o||this.logError(s),a.statusCode=500;let c=await this.getFallbackErrorComponents();return c?this.renderToResponseWithComponents({...e,pathname:"/_error",renderOpts:{...e.renderOpts,err:o?s.innerError:s}},{query:r,components:c}):{type:"html",body:ee.Z.fromStatic("Internal Server Error")}}}async renderErrorToHTML(e,t,a,r,i={}){return this.getStaticHTML(s=>this.renderErrorToResponse(s,e),{req:t,res:a,pathname:r,query:i})}async getFallbackErrorComponents(){return null}async render404(e,t,a,r=!0){let{pathname:i,query:s}=a||(0,H.parse)(e.url,!0);return this.nextConfig.i18n&&(s.__nextLocale=s.__nextLocale||this.nextConfig.i18n.defaultLocale,s.__nextDefaultLocale=s.__nextDefaultLocale||this.nextConfig.i18n.defaultLocale),t.statusCode=404,this.renderError(null,e,t,i,s,r)}}let kt=l=>{let e=l.length,t=0,a=0,r=8997,i=0,s=33826,o=0,c=40164,n=0,h=52210;for(;t<e;)r^=l.charCodeAt(t++),a=435*r,i=435*s,o=435*c,n=435*h,o+=r<<8,n+=s<<8,i+=a>>>16,r=65535&a,o+=i>>>16,s=65535&i,h=n+(o>>>16)&65535,c=65535&o;return(15&h)*281474976710656+4294967296*c+65536*s+(r^h>>4)},At=(l,e=!1)=>(e?'W/"':'"')+kt(l).toString(36)+l.length.toString(36)+'"';class Tt{constructor(e){this.pendingResponses=new Map,this.minimalMode=e}get(e,t,a){var r;let i=e?`${e}-${a.isManualRevalidate?"1":"0"}`:null,s=i?this.pendingResponses.get(i):null;if(s)return s;let o=()=>{},c=()=>{},n=new Promise((d,p)=>{o=d,c=p});i&&this.pendingResponses.set(i,n);let h=!1,f=d=>{i&&this.pendingResponses.set(i,Promise.resolve(d)),h||(h=!0,o(d))};return i&&this.minimalMode&&((r=this.previousCacheItem)==null?void 0:r.key)===i&&this.previousCacheItem.expiresAt>Date.now()?(f(this.previousCacheItem.entry),this.pendingResponses.delete(i),n):((async()=>{try{let d=await t(h,!1),p=d===null?null:{...d,isMiss:!0};a.isManualRevalidate||f(p),e&&d&&d.revalidate!==void 0?this.previousCacheItem={key:i||e,entry:d,expiresAt:Date.now()+1e3}:this.previousCacheItem=void 0,a.isManualRevalidate&&f(p)}catch(d){h?console.error(d):c(d)}finally{i&&this.pendingResponses.delete(i)}})(),n)}}function qt(l,e=""){return l=l.replace(/\\/g,"/"),(l=e&&l.endsWith(e)?l.slice(0,-e.length):l).startsWith("/index/")&&!(0,X.$)(l)?l=l.slice(6):l==="/index"&&(l="/"),l}var $t=g(5744),qe=g.n($t);class Ht{constructor(e){this.fs=e.fs,this.flushToDisk=e.flushToDisk,this.serverDistDir=e.serverDistDir,this.appDir=!!e._appDir,e.maxMemoryCacheSize&&!K&&(K=new(qe())({max:e.maxMemoryCacheSize,length({value:t}){var a;if(!t)return 25;if(t.kind==="REDIRECT")return JSON.stringify(t.props).length;if(t.kind==="IMAGE")throw Error("invariant image should not be incremental-cache");return t.kind==="FETCH"?JSON.stringify(t.data||"").length:t.kind==="ROUTE"?t.body.length:t.html.length+(((a=JSON.stringify(t.pageData))==null?void 0:a.length)||0)}}))}async get(e,t){return K?.get(e)||null}async set(e,t){if(K?.set(e,{value:t,lastModified:Date.now()}),this.flushToDisk){if(t?.kind==="ROUTE"){let{filePath:a}=await this.getFsPath({pathname:`${e}.body`,appDir:!0});await this.fs.mkdir(L.dirname(a)),await this.fs.writeFile(a,t.body),await this.fs.writeFile(a.replace(/\.body$/,".meta"),JSON.stringify({headers:t.headers,status:t.status}));return}if(t?.kind==="PAGE"){let a=typeof t.pageData=="string",{filePath:r}=await this.getFsPath({pathname:`${e}.html`,appDir:a});await this.fs.mkdir(L.dirname(r)),await this.fs.writeFile(r,t.html),await this.fs.writeFile((await this.getFsPath({pathname:`${e}.${a?"rsc":"json"}`,appDir:a})).filePath,a?t.pageData:JSON.stringify(t.pageData))}else if(t?.kind==="FETCH"){let{filePath:a}=await this.getFsPath({pathname:e,fetchCache:!0});await this.fs.mkdir(L.dirname(a)),await this.fs.writeFile(a,JSON.stringify(t))}}}async getFsPath({pathname:e,appDir:t,fetchCache:a}){if(a)return{filePath:L.join(this.serverDistDir,"..","cache","fetch-cache",e),isAppPath:!1};let r=L.join(this.serverDistDir,"pages",e);if(!this.appDir||t===!1)return{filePath:r,isAppPath:!1};try{return await this.fs.readFile(r),{filePath:r,isAppPath:!1}}catch{return{filePath:L.join(this.serverDistDir,"app",e),isAppPath:!0}}}}class It{constructor(e){if(e.maxMemoryCacheSize&&!U&&(U=new(qe())({max:e.maxMemoryCacheSize,length({value:t}){var a;if(!t)return 25;if(t.kind==="REDIRECT")return JSON.stringify(t.props).length;if(t.kind==="IMAGE")throw Error("invariant image should not be incremental-cache");return t.kind==="FETCH"?JSON.stringify(t.data||"").length:t.kind==="ROUTE"?t.body.length:t.html.length+(((a=JSON.stringify(t.pageData))==null?void 0:a.length)||0)}})),this.debug=!!process.env.NEXT_PRIVATE_DEBUG_CACHE,this.headers={},this.headers["Content-Type"]="application/json",J.yR in e._requestHeaders){let t=JSON.parse(e._requestHeaders[J.yR]);for(let a in t)this.headers[a]=t[a];delete e._requestHeaders[J.yR]}e._requestHeaders["x-vercel-sc-host"]?(this.cacheEndpoint=`https://${e._requestHeaders["x-vercel-sc-host"]}${e._requestHeaders["x-vercel-sc-basepath"]||""}`,this.debug&&console.log("using cache endpoint",this.cacheEndpoint)):this.debug&&console.log("no cache endpoint available")}async get(e,t){if(!t)return null;let a=U?.get(e);if(!a&&this.cacheEndpoint)try{let r=Date.now(),i=await fetch(`${this.cacheEndpoint}/v1/suspense-cache/${e}`,{method:"GET",headers:this.headers,next:{internal:!0}});if(i.status===404)return this.debug&&console.log(`no fetch cache entry for ${e}, duration: ${Date.now()-r}ms`),null;if(!i.ok)throw console.error(await i.text()),Error(`invalid response from cache ${i.status}`);let s=await i.json();if(!s||s.kind!=="FETCH")throw this.debug&&console.log({cached:s}),Error("invalid cache value");let o=i.headers.get("x-vercel-cache-state"),c=i.headers.get("age");a={value:s,lastModified:o==="stale"?Date.now()+le.BR:Date.now()-1e3*parseInt(c||"0",10)},this.debug&&console.log(`got fetch cache entry for ${e}, duration: ${Date.now()-r}ms, size: ${Object.keys(s).length}`),a&&U?.set(e,a)}catch(r){this.debug&&console.error("Failed to get from fetch-cache",r)}return a||null}async set(e,t,a){if(a&&(U?.set(e,{value:t,lastModified:Date.now()}),this.cacheEndpoint))try{let r=Date.now();t!==null&&"revalidate"in t&&(this.headers["x-vercel-revalidate"]=t.revalidate.toString()),!this.headers["x-vercel-revalidate"]&&t!==null&&"data"in t&&(this.headers["x-vercel-cache-control"]=t.data.headers["cache-control"]);let i=JSON.stringify(t),s=await fetch(`${this.cacheEndpoint}/v1/suspense-cache/${e}`,{method:"POST",headers:this.headers,body:i,next:{internal:!0}});if(!s.ok)throw this.debug&&console.log(await s.text()),Error(`invalid response ${s.status}`);this.debug&&console.log(`successfully set to fetch-cache for ${e}, duration: ${Date.now()-r}ms, size: ${i.length}`)}catch(r){this.debug&&console.error("Failed to update fetch cache",r)}}}var $e=g(4993);function He(l){return l.replace(/\/$/,"").replace(/\/index$/,"")||"/"}class Nt{constructor({fs:e,dev:t,appDir:a,flushToDisk:r,fetchCache:i,minimalMode:s,serverDistDir:o,requestHeaders:c,maxMemoryCacheSize:n,getPrerenderManifest:h,fetchCacheKeyPrefix:f,CurCacheHandler:d}){!d&&(e&&o&&(d=Ht),s&&i&&(d=It)),process.env.__NEXT_TEST_MAX_ISR_CACHE&&(n=parseInt(process.env.__NEXT_TEST_MAX_ISR_CACHE,10)),this.dev=t,this.minimalMode=s,this.requestHeaders=c,this.prerenderManifest=h(),this.fetchCacheKeyPrefix=f,d&&(this.cacheHandler=new d({dev:t,fs:e,flushToDisk:r,serverDistDir:o,maxMemoryCacheSize:n,_appDir:!!a,_requestHeaders:c,fetchCacheKeyPrefix:f}))}calculateRevalidate(e,t,a){if(a)return new Date().getTime()-1e3;let{initialRevalidateSeconds:r}=this.prerenderManifest.routes[He(e)]||{initialRevalidateSeconds:1};return typeof r=="number"?1e3*r+t:r}_getPathname(e,t){return t?e:(0,te.y)(e)}async fetchCacheKey(e,t={}){let a,r=[];if(t.body)if(typeof t.body.getReader=="function"){let o=t.body,c=o.getReader(),n=new Uint8Array;await c.read().then(function h({done:f,value:d}){if(!f){if(d)try{r.push(typeof d=="string"?d:(0,$e.encode)(d));let p=typeof d=="string"?(0,Ae.YT)(d):new Uint8Array(d),u=n;(n=new Uint8Array(u.byteLength+p.byteLength)).set(u),n.set(p,u.byteLength)}catch(p){console.error(p)}c.read().then(h)}}),t._ogBody=n}else if(typeof t.body.keys=="function"){let o=t.body;for(let c of(t._ogBody=t.body,new Set([...o.keys()]))){let n=o.getAll(c);r.push(`${c}=${(await Promise.all(n.map(async h=>typeof h=="string"?h:await h.text()))).join(",")}`)}}else if(typeof t.body.arrayBuffer=="function"){let o=t.body,c=await o.arrayBuffer();r.push((0,$e.encode)(await t.body.arrayBuffer())),t._ogBody=new Blob([c],{type:o.type})}else typeof t.body=="string"&&(r.push(t.body),t._ogBody=t.body);let i=JSON.stringify(["v1",this.fetchCacheKeyPrefix||"",e,t.method,t.headers,t.mode,t.redirect,t.credentials,t.referrer,t.referrerPolicy,t.integrity,t.cache,r]);{var s;let o=(0,Ae.YT)(i);s=await crypto.subtle.digest("SHA-256",o),a=Array.prototype.map.call(new Uint8Array(s),c=>c.toString(16).padStart(2,"0")).join("")}return a}async get(e,t){var a,r,i;if(this.dev&&(!t||this.requestHeaders["cache-control"]==="no-cache"))return null;e=this._getPathname(e,t);let s=null,o=await((a=this.cacheHandler)==null?void 0:a.get(e,t));if((o==null||(r=o.value)==null?void 0:r.kind)==="FETCH"){let f=o.value.revalidate,d=Math.round((Date.now()-(o.lastModified||0))/1e3),p=o.value.data;return{isStale:d>f,value:{kind:"FETCH",data:p,revalidate:f},revalidateAfter:(o.lastModified||Date.now())+1e3*f}}let c=(i=this.prerenderManifest.routes[He(e)])==null?void 0:i.initialRevalidateSeconds,n=this.calculateRevalidate(e,o?.lastModified||Date.now(),this.dev&&!t),h=n!==!1&&n<Date.now()||void 0;return o&&(s={isStale:h,curRevalidate:c,revalidateAfter:n,value:o.value}),!o&&this.prerenderManifest.notFoundRoutes.includes(e)&&(s={isStale:h,value:null,curRevalidate:c,revalidateAfter:n},this.set(e,s.value,c,t)),s}async set(e,t,a,r){if(!this.dev||r){if(r&&JSON.stringify(t).length>1048576){if(this.dev)throw Error("fetch for over 1MB of data can not be cached");return}e=this._getPathname(e,r);try{var i;a===void 0||r||(this.prerenderManifest.routes[e]={dataRoute:L.posix.join("/_next/data",`${(0,te.y)(e)}.json`),srcRoute:null,initialRevalidateSeconds:a}),await((i=this.cacheHandler)==null?void 0:i.set(e,t,r))}catch(s){console.warn("Failed to update prerender cache for",e,s)}}}}class jt extends Ot{constructor(e){super(e),Object.assign(this.renderOpts,e.webServerConfig.extendRenderOpts)}handleCompression(){}getIncrementalCache({requestHeaders:e}){let t=!!this.renderOpts.dev;return new Nt({dev:t,requestHeaders:e,appDir:this.hasAppDir,minimalMode:this.minimalMode,fetchCache:this.nextConfig.experimental.appDir,fetchCacheKeyPrefix:this.nextConfig.experimental.fetchCacheKeyPrefix,maxMemoryCacheSize:this.nextConfig.experimental.isrMemoryCacheSize,flushToDisk:!1,CurCacheHandler:this.serverOptions.webServerConfig.incrementalCacheHandler,getPrerenderManifest:()=>t?{version:-1,routes:{},dynamicRoutes:{},notFoundRoutes:[],preview:null}:this.getPrerenderManifest()})}getResponseCache(){return new Tt(this.minimalMode)}getCustomRoutes(){return{headers:[],rewrites:{fallback:[],afterFiles:[],beforeFiles:[]},redirects:[]}}async run(e,t,a){super.run(e,t,a)}async hasPage(e){return e===this.serverOptions.webServerConfig.page}getPublicDir(){return""}getBuildId(){return this.serverOptions.webServerConfig.extendRenderOpts.buildId}loadEnvConfig(){}getHasAppDir(){return this.serverOptions.webServerConfig.pagesType==="app"}getHasStaticDir(){return!1}async getFallback(){return""}getFontManifest(){}getPagesManifest(){return{[this.serverOptions.webServerConfig.page]:""}}getAppPathsManifest(){return{[this.serverOptions.webServerConfig.page]:""}}getFilesystemPaths(){return new Set}attachRequestMeta(e,t){(0,_.kL)(e,"__NEXT_INIT_QUERY",{...t.query})}getPrerenderManifest(){return{version:4,routes:{},dynamicRoutes:{},notFoundRoutes:[],preview:{previewModeId:"",previewModeSigningKey:"",previewModeEncryptionKey:""}}}getServerComponentManifest(){return this.serverOptions.webServerConfig.extendRenderOpts.serverComponentManifest}getServerCSSManifest(){return this.serverOptions.webServerConfig.extendRenderOpts.serverCSSManifest}getNextFontManifest(){return this.serverOptions.webServerConfig.extendRenderOpts.nextFontManifest}generateRoutes(){let e=[{match:(0,Q.B)("/_next/data/:path*"),type:"route",name:"_next/data catchall",check:!0,fn:async(r,i,s,o)=>{if(!s.path||s.path[0]!==this.buildId)return await this.render404(r,i,o),{finished:!0};s.path.shift();let c=s.path[s.path.length-1];if(typeof c!="string"||!c.endsWith(".json"))return await this.render404(r,i,o),{finished:!0};let n=`/${s.path.join("/")}`;if(n=qt(n,".json"),this.router.catchAllMiddleware[0]&&(this.nextConfig.trailingSlash&&!n.endsWith("/")&&(n+="/"),!this.nextConfig.trailingSlash&&n.length>1&&n.endsWith("/")&&(n=n.substring(0,n.length-1))),this.nextConfig.i18n){let{host:h}=r?.headers||{},f=h?.split(":")[0].toLowerCase(),d=(0,Y.h)(n,this.nextConfig.i18n.locales),{defaultLocale:p}=(0,de.D)(this.nextConfig.i18n.domains,f)||{},u="";if(d.detectedLocale&&(n=d.pathname,u=d.detectedLocale),o.query.__nextLocale=u,o.query.__nextDefaultLocale=p||this.nextConfig.i18n.defaultLocale,!u&&!this.router.catchAllMiddleware[0])return o.query.__nextLocale=o.query.__nextDefaultLocale,await this.render404(r,i,o),{finished:!0}}return{pathname:n,query:{...o.query,__nextDataReq:"1"},finished:!1}}},{match:(0,Q.B)("/_next/:path*"),type:"route",name:"_next catchall",fn:async(r,i,s,o)=>(await this.render404(r,i,o),{finished:!0})}],t={match:(0,Q.B)("/:path*"),type:"route",matchesLocale:!0,name:"Catchall render",fn:async(r,i,s,o)=>{let{pathname:c,query:n}=o;if(!c)throw Error("pathname is undefined");if(c!==this.serverOptions.webServerConfig.page&&(c=this.serverOptions.webServerConfig.page,(0,X.$)(c))){let d=(0,ve.JV)(c);c=ke(c,n,d),Oe(r,!0,Object.keys(d.routeKeys),!0,d)}if(c=(0,Z.Q)(c),this.nextConfig.i18n){var h;let d=(0,Y.h)(c,(h=this.nextConfig.i18n)==null?void 0:h.locales);d.detectedLocale&&(o.query.__nextLocale=d.detectedLocale)}let f=!!n._nextBubbleNoFallback;(0,he.Q)(c)&&delete n._nextBubbleNoFallback;try{return await this.render(r,i,c,n,o,!0),{finished:!0}}catch(d){if(d instanceof ue&&f)return{finished:!1};throw d}}},{useFileSystemPublicRoutes:a}=this.nextConfig;return a&&(this.appPathRoutes=this.getAppPathRoutes()),{headers:[],fsRoutes:e,rewrites:{beforeFiles:[],afterFiles:[],fallback:[]},redirects:[],catchAllRoute:t,catchAllMiddleware:[],useFileSystemPublicRoutes:a,matchers:this.matchers,nextConfig:this.nextConfig}}async handleApiRequest(){return!1}async renderHTML(e,t,a,r,i){let{pagesRenderToHTML:s,appRenderToHTML:o}=this.serverOptions.webServerConfig,c=s||o;if(c)return await c({url:e.url,cookies:e.cookies,headers:e.headers},{},a,r,Object.assign(i,{disableOptimizedLoading:!0,runtime:"experimental-edge"}));throw Error("Invariant: curRenderToHTML is missing")}async sendRenderResult(e,t,a){t.setHeader("X-Edge-Runtime","1"),a.poweredByHeader&&a.type==="html"&&t.setHeader("X-Powered-By","Next.js");let r=a.result.contentType();if(t.getHeader("Content-Type")||t.setHeader("Content-Type",r||(a.type==="json"?"application/json":"text/html; charset=utf-8")),a.result.isDynamic()){let i=t.transformStream.writable.getWriter();a.result.pipe({write:s=>i.write(s),end:()=>i.close(),destroy:s=>i.abort(s),cork:()=>{},uncork:()=>{}})}else{let i=await a.result.toUnchunkedString();t.setHeader("Content-Length",String(Ge(i))),a.generateEtags&&t.setHeader("ETag",At(i)),t.body(i)}t.send()}async runApi(){return!0}async findPageComponents({pathname:e,query:t,params:a}){let r=await this.serverOptions.webServerConfig.loadComponent(e);return r?{query:{...t||{},...a||{}},components:r}:null}}class Ft{constructor(e,t,a){this.method=e,this.url=t,this.body=a}get cookies(){return this._cookies?this._cookies:this._cookies=De(this.headers)()}}class zt{constructor(e){this.destination=e}redirect(e,t){return this.setHeader("Location",e),this.statusCode=t,t===E.fn&&this.setHeader("Refresh",`0;url=${e}`),this}}class Bt extends Ft{constructor(e){let t=new URL(e.url);for(let[a,r]of(super(e.method,t.href.slice(t.origin.length),e.clone().body),this.request=e,this.headers={},e.headers.entries()))this.headers[a]=r}async parseBody(e){throw Error("parseBody is not implemented in the web runtime")}}class Ut extends zt{get sent(){return this._sent}constructor(e=new TransformStream){super(e.writable),this.transformStream=e,this.headers=new Headers,this.textBody=void 0,this._sent=!1,this.sendPromise=new Promise(t=>{this.sendResolve=t}),this.response=this.sendPromise.then(()=>new Response(this.textBody??this.transformStream.readable,{headers:this.headers,status:this.statusCode,statusText:this.statusMessage}))}setHeader(e,t){for(let a of(this.headers.delete(e),Array.isArray(t)?t:[t]))this.headers.append(e,a);return this}getHeaderValues(e){var t;return(t=this.getHeader(e))==null?void 0:t.split(",").map(a=>a.trimStart())}getHeader(e){return this.headers.get(e)??void 0}hasHeader(e){return this.headers.has(e)}appendHeader(e,t){return this.headers.append(e,t),this}body(e){return this.textBody=e,this}send(){var e;(e=this.sendResolve)==null||e.call(this),this._sent=!0}toResponse(){return this.response}}function Wt({dev:l,page:e,appMod:t,pageMod:a,errorMod:r,error500Mod:i,pagesType:s,Document:o,buildManifest:c,reactLoadableManifest:n,appRenderToHTML:h,pagesRenderToHTML:f,serverComponentManifest:d,subresourceIntegrityManifest:p,serverCSSManifest:u,serverActionsManifest:y,config:b,buildId:x,nextFontManifest:m,incrementalCacheHandler:w}){let v=s==="app",C={dev:l,buildManifest:c,reactLoadableManifest:n,subresourceIntegrityManifest:p,nextFontManifest:m,Document:o,App:t?.default},R=new jt({dev:l,conf:b,minimalMode:!0,webServerConfig:{page:e,pagesType:s,extendRenderOpts:{buildId:x,runtime:le.Jp.experimentalEdge,supportsDynamicHTML:!0,disableOptimizedLoading:!0,serverComponentManifest:d,serverCSSManifest:u,serverActionsManifest:y},appRenderToHTML:h,pagesRenderToHTML:f,incrementalCacheHandler:w,loadComponent:async O=>v?null:O===e?{...C,Component:a.default,pageConfig:a.config||{},getStaticProps:a.getStaticProps,getServerSideProps:a.getServerSideProps,getStaticPaths:a.getStaticPaths,ComponentMod:a,isAppPath:!!a.__next_app_webpack_require__,pathname:O}:O==="/500"&&i?{...C,Component:i.default,pageConfig:i.config||{},getStaticProps:i.getStaticProps,getServerSideProps:i.getServerSideProps,getStaticPaths:i.getStaticPaths,ComponentMod:i,pathname:O}:O==="/_error"?{...C,Component:r.default,pageConfig:r.config||{},getStaticProps:r.getStaticProps,getServerSideProps:r.getServerSideProps,getStaticPaths:r.getStaticPaths,ComponentMod:r,pathname:O}:null}}),D=R.getRequestHandler();return async function(O){let S=new Bt(O),k=new Ut;return D(S,k),await k.toResponse()}}};export{sa as default};
