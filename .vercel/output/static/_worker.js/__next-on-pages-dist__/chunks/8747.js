var W=(R,O,i)=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});var p=Object.assign||function(o){for(var s=1;s<arguments.length;s++){var l=arguments[s];for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&(o[e]=l[e])}return o},A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},F=function(){function o(s,l){for(var e=0;e<l.length;e++){var t=l[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(s,t.key,t)}}return function(s,l,e){return l&&o(s.prototype,l),e&&o(s,e),s}}(),E=i(7294),n=h(i(5697)),f=C(i(9685)),k=h(i(8338)),w=C(i(7149)),d=C(i(2409)),b=i(1112),T=h(b),j=h(i(9623));function C(o){if(o&&o.__esModule)return o;var s={};if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l]);return s.default=o,s}function h(o){return o&&o.__esModule?o:{default:o}}function M(o,s){if(!(o instanceof s))throw TypeError("Cannot call a class as a function")}function _(o,s){if(!o)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:o}function N(o,s){if(typeof s!="function"&&s!==null)throw TypeError("Super expression must either be null or a function, not "+typeof s);o.prototype=Object.create(s&&s.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(o,s):o.__proto__=s)}i(5063);var v={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},D=function(o){return o.code==="Tab"||o.keyCode===9},H=function(o){return o.code==="Escape"||o.keyCode===27},S=0,g=function(o){function s(l){M(this,s);var e=_(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,l));return e.setOverlayRef=function(t){e.overlay=t,e.props.overlayRef&&e.props.overlayRef(t)},e.setContentRef=function(t){e.content=t,e.props.contentRef&&e.props.contentRef(t)},e.afterClose=function(){var t=e.props,r=t.appElement,u=t.ariaHideApp,a=t.htmlOpenClassName,c=t.bodyOpenClassName,y=t.parentSelector,m=y&&y().ownerDocument||document;c&&d.remove(m.body,c),a&&d.remove(m.getElementsByTagName("html")[0],a),u&&S>0&&(S-=1)==0&&w.show(r),e.props.shouldFocusAfterRender&&(e.props.shouldReturnFocusAfterClose?(f.returnFocus(e.props.preventScroll),f.teardownScopedFocus()):f.popWithoutFocus()),e.props.onAfterClose&&e.props.onAfterClose(),j.default.deregister(e)},e.open=function(){e.beforeOpen(),e.state.afterOpen&&e.state.beforeClose?(clearTimeout(e.closeTimer),e.setState({beforeClose:!1})):(e.props.shouldFocusAfterRender&&(f.setupScopedFocus(e.node),f.markForFocusLater()),e.setState({isOpen:!0},function(){e.openAnimationFrame=requestAnimationFrame(function(){e.setState({afterOpen:!0}),e.props.isOpen&&e.props.onAfterOpen&&e.props.onAfterOpen({overlayEl:e.overlay,contentEl:e.content})})}))},e.close=function(){e.props.closeTimeoutMS>0?e.closeWithTimeout():e.closeWithoutTimeout()},e.focusContent=function(){return e.content&&!e.contentHasFocus()&&e.content.focus({preventScroll:!0})},e.closeWithTimeout=function(){var t=Date.now()+e.props.closeTimeoutMS;e.setState({beforeClose:!0,closesAt:t},function(){e.closeTimer=setTimeout(e.closeWithoutTimeout,e.state.closesAt-Date.now())})},e.closeWithoutTimeout=function(){e.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},e.afterClose)},e.handleKeyDown=function(t){D(t)&&(0,k.default)(e.content,t),e.props.shouldCloseOnEsc&&H(t)&&(t.stopPropagation(),e.requestClose(t))},e.handleOverlayOnClick=function(t){e.shouldClose===null&&(e.shouldClose=!0),e.shouldClose&&e.props.shouldCloseOnOverlayClick&&(e.ownerHandlesClose()?e.requestClose(t):e.focusContent()),e.shouldClose=null},e.handleContentOnMouseUp=function(){e.shouldClose=!1},e.handleOverlayOnMouseDown=function(t){e.props.shouldCloseOnOverlayClick||t.target!=e.overlay||t.preventDefault()},e.handleContentOnClick=function(){e.shouldClose=!1},e.handleContentOnMouseDown=function(){e.shouldClose=!1},e.requestClose=function(t){return e.ownerHandlesClose()&&e.props.onRequestClose(t)},e.ownerHandlesClose=function(){return e.props.onRequestClose},e.shouldBeClosed=function(){return!e.state.isOpen&&!e.state.beforeClose},e.contentHasFocus=function(){return document.activeElement===e.content||e.content.contains(document.activeElement)},e.buildClassName=function(t,r){var u=(r===void 0?"undefined":A(r))==="object"?r:{base:v[t],afterOpen:v[t]+"--after-open",beforeClose:v[t]+"--before-close"},a=u.base;return e.state.afterOpen&&(a=a+" "+u.afterOpen),e.state.beforeClose&&(a=a+" "+u.beforeClose),typeof r=="string"&&r?a+" "+r:a},e.attributesFromObject=function(t,r){return Object.keys(r).reduce(function(u,a){return u[t+"-"+a]=r[a],u},{})},e.state={afterOpen:!1,beforeClose:!1},e.shouldClose=null,e.moveFromContentToOverlay=null,e}return N(s,o),F(s,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(l,e){this.props.isOpen&&!l.isOpen?this.open():!this.props.isOpen&&l.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!e.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var l=this.props,e=l.appElement,t=l.ariaHideApp,r=l.htmlOpenClassName,u=l.bodyOpenClassName,a=l.parentSelector,c=a&&a().ownerDocument||document;u&&d.add(c.body,u),r&&d.add(c.getElementsByTagName("html")[0],r),t&&(S+=1,w.hide(e)),j.default.register(this)}},{key:"render",value:function(){var l=this.props,e=l.id,t=l.className,r=l.overlayClassName,u=l.defaultStyles,a=l.children,c=t?{}:u.content,y=r?{}:u.overlay;if(this.shouldBeClosed())return null;var m={ref:this.setOverlayRef,className:this.buildClassName("overlay",r),style:p({},y,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},P=p({id:e,ref:this.setContentRef,style:p({},c,this.props.style.content),className:this.buildClassName("content",t),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",p({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),q=this.props.contentElement(P,a);return this.props.overlayElement(m,q)}}]),s}(E.Component);g.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},g.propTypes={isOpen:n.default.bool.isRequired,defaultStyles:n.default.shape({content:n.default.object,overlay:n.default.object}),style:n.default.shape({content:n.default.object,overlay:n.default.object}),className:n.default.oneOfType([n.default.string,n.default.object]),overlayClassName:n.default.oneOfType([n.default.string,n.default.object]),parentSelector:n.default.func,bodyOpenClassName:n.default.string,htmlOpenClassName:n.default.string,ariaHideApp:n.default.bool,appElement:n.default.oneOfType([n.default.instanceOf(T.default),n.default.instanceOf(b.SafeHTMLCollection),n.default.instanceOf(b.SafeNodeList),n.default.arrayOf(n.default.instanceOf(T.default))]),onAfterOpen:n.default.func,onAfterClose:n.default.func,onRequestClose:n.default.func,closeTimeoutMS:n.default.number,shouldFocusAfterRender:n.default.bool,shouldCloseOnOverlayClick:n.default.bool,shouldReturnFocusAfterClose:n.default.bool,preventScroll:n.default.bool,role:n.default.string,contentLabel:n.default.string,aria:n.default.object,data:n.default.object,children:n.default.node,shouldCloseOnEsc:n.default.bool,overlayRef:n.default.func,contentRef:n.default.func,id:n.default.string,overlayElement:n.default.func,contentElement:n.default.func,testId:n.default.string},O.default=g,R.exports=O.default};export{W as default};
