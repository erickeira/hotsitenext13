var q=(L,A,r)=>{"use strict";r.d(A,{Z:()=>R});var a=r(5893),t=r(7294),f=r(4398),T=r.n(f),m=r(1371),S=r(1163),O=r(9874),n=r(3547);let u={menuPortal:o=>({...o,zIndex:9999,fontSize:14}),menuList:o=>({...o,"::-webkit-scrollbar":{width:"4px",height:"0px"},"::-webkit-scrollbar-track":{background:"#f1f1f1"},"::-webkit-scrollbar-thumb":{background:"#888"},"::-webkit-scrollbar-thumb:hover":{background:"#555"}})};function R(o){let b=(0,S.useRouter)(),D=b.query,{finalidades:E,tipoimoveis:N,estados:j,valores:h,loadingDados:g,setValores:y}=(0,t.useContext)(O.V),{callbackclose:w}=o,C=E.map(e=>({value:e,label:e})),[x,V]=(0,t.useState)(!1),[l,i]=(0,t.useState)(o.formulario?o.formulario:D||[]),[k,I]=(0,t.useState)([]),[P,_]=(0,t.useState)([]),{valor_minimo:d,valor_maximo:c}=h;async function Z(){let e=await(0,n.VQ)("");return y({...h,valor_minimo:parseInt(e.valor_minimo),valor_maximo:parseInt(e.valor_maximo)})}async function v(e,s){if(e==="finalidade"){let p=await(0,n.VQ)(s);return y({...h,valor_minimo:parseInt(p.valor_minimo),valor_maximo:parseInt(p.valor_maximo)}),i({...l,finalidade:s,valorde:parseInt(p.valor_minimo),valorate:parseInt(p.valor_maximo)})}return e==="tipo"?i({...l,tipo:s}):e==="uf"?(i({...l,uf:s}),I([{value:"",label:"Carregando"}]),I((await(0,n.P6)("cidades",s)).cidades)):e==="cidade"?(i({...l,cidade:s}),_([{value:"",label:"Carregando"}]),_((await(0,n.P6)("bairros",s)).bairros)):e==="bairro"?i({...l,bairro:s}):void 0}async function F(){return w&&w(),l.finalidade&&l!==void 0?(V(!1),b.push({pathname:"/busca",query:l})):(i({...l,finalidade:"",valorde:parseInt(d),valorate:parseInt(c)}),b.push({pathname:"/busca",query:i}))}return(0,t.useEffect)(()=>{(c===null&&d===null||isNaN(c)&&isNaN(d))&&Z()},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"font-24 m-0 pb-3 color-primary",children:"Encontre no Site"}),(0,a.jsx)("div",{className:"flex-grow-1",children:(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-12 pb-2 mb-1",children:(0,a.jsx)(m.ZP,{className:"select",classNamePrefix:"react-select",value:C.find(e=>e.value==l.finalidade),placeholder:"FINALIDADE",onChange:e=>v("finalidade",e.value),options:C,styles:u})}),(0,a.jsx)("div",{className:"col-12 pb-2 mb-1",children:(0,a.jsx)(m.ZP,{className:"select",classNamePrefix:"react-select",value:N.find(e=>e.value==l.tipo),placeholder:"TIPO DO IM\xD3VEL",onChange:e=>v("tipo",e.value),options:N,styles:u})}),(0,a.jsx)("div",{className:"col-12 col-md-4 pb-2 mb-1 pr-3 pr-md-0",children:(0,a.jsx)(m.ZP,{className:"select",classNamePrefix:"react-select",placeholder:"UF",value:j.find(e=>e.value==l.uf),onChange:e=>v("uf",e.value),options:j,styles:u})}),(0,a.jsx)("div",{className:"col-12 col-md-8 pb-2 mb-1 pl-3 pl-md-0",children:(0,a.jsx)(m.ZP,{className:"select",classNamePrefix:"react-select",value:k?.find(e=>e.value==l.cidade),placeholder:"CIDADE",onChange:e=>v("cidade",e.value),options:k,noOptionsMessage:()=>"Selecione",styles:u})}),(0,a.jsx)("div",{className:"col-12 pb-2 mb-2",children:(0,a.jsx)(m.ZP,{className:"select",classNamePrefix:"react-select",placeholder:"BAIRRO",value:P.find(e=>e.value==l.bairro),onChange:e=>v("bairro",e.value),options:P,styles:u,noOptionsMessage:()=>"Selecione"})}),(0,a.jsxs)("div",{className:"col-12 pb-2 mb-1",children:[(0,a.jsx)("label",{className:"d-block font-12 pb-3 ms-2",children:(0,a.jsx)("div",{className:"imputValorDesejado react-select__control ",children:"VALOR DESEJADO"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(f.Range,{min:parseInt(d),max:parseInt(c),values:[l.valorde||d||0,l.valorate||c||100],allowCross:!1,allowOverlap:!0,onChange:e=>{var s;return s={valorde:e[0],valorate:e[1]},void i({...l,...s})},renderTrack:({props:e,children:s})=>(0,a.jsx)("div",{...e,style:{...e.style,height:"6px",width:"100%",backgroundColor:"#ccc"},children:s}),renderThumb:({props:e})=>(0,a.jsx)("div",{...e,style:{...e.style,height:"20px",width:"20px",borderRadius:"5px",backgroundColor:"#48AAF0"}})}),(0,a.jsxs)("div",{className:"d-flex justify-content-between font-12 pt-3 pb-1 text-center",children:[g?(0,a.jsx)("div",{style:{backgroundColor:"#d1d1d1",height:15,width:80}}):(0,a.jsxs)("div",{children:["R$  ",(0,n.ed)(l.valorde||d||0)," "]}),g?(0,a.jsx)("div",{style:{backgroundColor:"#d1d1d1",height:15,width:80}}):(0,a.jsxs)("div",{children:["R$  ",(0,n.ed)(l.valorate||c||0)," "]})]})]})]})]})}),(0,a.jsxs)("button",{type:"button",className:"btn btn-primary font-weight-bold font-14 w-100 py-3",onClick:()=>F(),disabled:!!x,children:[x&&(0,a.jsx)("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),x?"BUSCANDO":"BUSCAR AGORA"]})]})}};export{q as default};
