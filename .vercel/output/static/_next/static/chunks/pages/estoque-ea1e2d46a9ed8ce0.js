(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[873],{1974:function(e,a,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/estoque",function(){return o(5456)}])},9003:function(e,a,o){"use strict";o.d(a,{Z:function(){return M}});var n=o(5893),s=o(4178),c=o(7294),l=o(7910),i=o.n(l),t=o(7516),u=o(3990),r=o(4639),d=o(5675),m=o.n(d),_=o(8218),v=o.n(_),g=o(6039),p=o(9352);let h=e=>{let{anuncio:a,loading:o}=e;return o?(0,n.jsxs)("div",{className:v().cardAnuncio,children:[(0,n.jsx)("span",{className:v().detalhes,children:"Ver detalhes"}),(0,n.jsx)("div",{className:v().envolveImagemVeiculo,children:(0,n.jsx)(g.Z,{height:"120%"})}),(0,n.jsx)("p",{className:v().modelo,children:(0,n.jsx)(g.Z,{width:"50%"})}),(0,n.jsx)("span",{className:[v().ano,{color:""}],children:(0,n.jsx)(g.Z,{width:40})}),(0,n.jsx)("div",{className:v().preco,children:(0,n.jsx)(g.Z,{width:"50%"})})]}):(0,n.jsxs)("div",{className:v().cardAnuncio,children:[(0,n.jsx)("span",{className:v().detalhes,children:"Ver detalhes"}),(0,n.jsx)("div",{className:v().envolveImagemVeiculo,children:a.vei_foto?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(m(),{className:v().imagemVeiculo,loader:r.Hu,fill:!0,priority:"high",sizes:"(max-width: 100px) 100vw",alt:a.vei_modelo,src:"".concat(a.vei_foto)})}):"nao"==a.tem_fotos?(0,n.jsxs)("div",{className:v().envolveImagemSemFoto,children:[(0,n.jsx)(p.Vsj,{size:50,color:"#adadad"}),(0,n.jsx)("span",{children:"SEM FOTO"})]}):(0,n.jsx)("div",{className:v().envolveImagemSemFoto,children:(0,n.jsx)(p.SMK,{size:50,color:"#adadad"})})}),(0,n.jsx)("p",{className:v().modelo,children:a.vei_modelo}),(0,n.jsxs)("span",{className:v().ano,children:[a.vei_ano," - ",a.cor_nome]}),(0,n.jsx)("div",{className:v().preco,children:a.vei_preco?(0,r.pP)(a.vei_preco):"Consulte-nos"})]})};var x=o(2017),j=o.n(x),b=o(1664),f=o.n(b);function N(e){let{anuncios:a,loading:o}=e,s=o?Array.from({length:8},(e,a)=>a):a;return s?(0,n.jsx)("div",{className:j().listagemAnuncios,children:s.map(e=>o?(0,n.jsx)(h,{anuncio:e,loading:o},e):(0,n.jsx)(f(),{href:"/".concat((0,r.Yy)(e.mar_nome),"-").concat((0,r.Yy)(e.vei_modelo),"/").concat(e.vei_id),className:j().anuncios,children:(0,n.jsx)(h,{anuncio:e,loading:o})},e.vei_id))}):(0,n.jsx)("div",{className:j().listagemSemAnuncio,children:"Nenhum anuncio encontrado!"})}var y=o(1163),A=o(1358),S=o.n(A);function M(e){let{titulo:a,ordenacao:o=!0,temPaginacao:l,anuncios:d}=e,[m,_]=(0,c.useState)([]),[v,g]=(0,c.useState)("Marca"),[p,h]=(0,c.useState)([]),[x,j]=(0,c.useState)("Modelo"),[b,f]=(0,c.useState)([]),[A,M]=(0,c.useState)(!0),[C,P]=(0,c.useState)(!1),[O,V]=(0,c.useState)(0),w=[{value:"",label:"Ordenar"},{value:"maiorvalor",label:"Maior valor"},{value:"menorvalor",label:"Menor valor"},{value:"marca",label:"Marca"},{value:"modelo",label:"Modelo"},{value:"ano",label:"Ano"}],[q,E]=(0,c.useState)(""),I=(0,y.useRouter)(),Z=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;I.push("/estoque?marca=".concat(e,"&modelo=").concat(a,"&ordenacao=").concat(o,"&pagina=").concat(n))};async function T(){let e=JSON.stringify({acoes:[{acao:"marcas",params:{loja:r.eP}}],loja:r.eP}),a=await fetch(r.Zv,{method:"POST",body:e}),o=await a.json();_(o.marcas)}async function F(){let e=JSON.stringify({acoes:[{acao:"modelos",params:{marca:v}}],loja:r.eP}),a=await fetch(r.rO,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e}),o=await a.json();h(o.modelos)}return(0,c.useEffect)(()=>{M(!1),T()},[]),(0,c.useEffect)(()=>{let e;(e=I.query)&&(e.marca&&g(e.marca),e.modelo&&j(e.modelo),e.ordenacao&&E(e.ordenacao),e.pagina&&V(e.pagina))},[I.query]),(0,c.useEffect)(()=>{"Marca"!=v&&F()},[v]),(0,n.jsxs)("div",{className:i().envolveBusca,children:[(0,n.jsxs)("div",{className:i().buscaVeiculos,children:[(0,n.jsx)("p",{className:i().titulo,children:a||"Estoque"}),(0,n.jsxs)("form",{className:i().busca,children:[A?null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.ZP,{className:i().buscaMarcas,options:[{value:"Marca",label:"Marca"},...null==m?void 0:m.map((e,a)=>({value:e.mar_nome,label:e.mar_nome}))],defaultValue:{value:"Marca",label:"Marca"},onChange:e=>{g(e.value),j("Modelo"),h([]),E("")},value:{value:v,label:v},instanceId:"selectMarcas"}),(0,n.jsx)(s.ZP,{className:i().buscaModelos,options:[{value:"Modelo",label:"Modelo"},...null==p?void 0:p.map((e,a)=>({value:e.vei_modelo,label:e.vei_modelo}))],defaultValue:{value:"Modelo",label:"Modelo"},onChange:e=>{j(e.value),E("")},value:{value:x,label:x},instanceId:"selectModelos"})]}),(0,n.jsxs)("button",{type:"button",onClick:()=>Z(v,x),children:[(0,n.jsx)(t.Goc,{style:{fontSize:"17"}})," Buscar "]})]})]}),o?(0,n.jsxs)("div",{className:i().envolveOrdenacao,children:[(0,n.jsxs)("span",{className:i().veiculosEncontradosTexto,children:[d.total?d.total:"",d.total?1==d.total?" ve\xedculo encontrado":" ve\xedculos encontrados":"Nenhum ve\xedculo encontrado"]}),(0,n.jsx)(s.ZP,{className:i().selectOrdenacao,options:w,defaultValue:{value:"Ordenar",label:"Ordenar"},onChange:e=>Z(I.query.marca||v,I.query.modelo||x,e.value),value:w.find(e=>{e.value}),instanceId:"selectOrdenacao"})]}):null,(0,n.jsx)(N,{anuncios:null==d?void 0:d.anuncios,loading:C}),(0,n.jsx)("div",{children:l&&d.total_paginas>1?(0,n.jsx)(S(),{pageRangeDisplayed:1,marginPagesDisplayed:1,previousLabel:(0,n.jsx)(u.Fjg,{style:{color:"#000000",marginBottom:-2}}),nextLabel:(0,n.jsx)(u.W3E,{style:{color:"#000000",marginBottom:-2}}),pageCount:(null==d?void 0:d.total_paginas)||1,onPageChange:e=>{Z(I.query.marca||"",I.query.modelo||"",I.query.ordenacao||"",e.selected+1)},containerClassName:"pagination",activeClassName:i().paginaAtiva,className:i().envolvePaginacao,previousClassName:1==O||0==O||0==d.total?i().previousLabel:"",nextClassName:O==d.total_paginas?i().nextLabel:"",forcePage:O>1?O-1:0}):null})]})}},5456:function(e,a,o){"use strict";o.r(a),o.d(a,{__N_SSP:function(){return r},default:function(){return d}});var n=o(5893),s=o(2788),c=o.n(s),l=o(9003),i=o(4639),t=o(9008),u=o.n(t),r=!0;function d(e){let{data:a}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(u(),{children:[(0,n.jsx)("meta",{property:"og:type",content:"product"}),(0,n.jsx)("meta",{property:"og:description",content:"Confira os ve\xedculos que temos disponivel em nosso estoque."}),(0,n.jsx)("meta",{property:"og:image",content:"/img/compartilhamento.jpg"}),(0,n.jsx)("meta",{property:"og:image:width",content:"400"}),(0,n.jsx)("meta",{property:"og:image:height",content:"400"}),(0,n.jsx)("title",{children:"Confira nosso estoque | ".concat(i.IM)})]}),(0,n.jsx)("div",{className:c().container,children:(0,n.jsx)(l.Z,{temPaginacao:!0,anuncios:a.estoque})})]})}},7910:function(e){e.exports={envolveBusca:"busca_envolveBusca__Oq0Nu",buscaVeiculos:"busca_buscaVeiculos__N4cNu",titulo:"busca_titulo__FrjlA",envolveOrdenacao:"busca_envolveOrdenacao__BsicN",veiculosEncontradosTexto:"busca_veiculosEncontradosTexto__X0tgb",selectOrdenacao:"busca_selectOrdenacao__OmgFl",painelAnuncios:"busca_painelAnuncios__ZN13K",anunciosDestaque:"busca_anunciosDestaque__SKaXM",listagemAnuncios:"busca_listagemAnuncios__mG9sK",listagemSemAnuncio:"busca_listagemSemAnuncio__Po0So",busca:"busca_busca__6h6Zc",buscaMarcas:"busca_buscaMarcas__hyk2S",buscaModelos:"busca_buscaModelos__biUy9",envolvePaginacao:"busca_envolvePaginacao__AT5y3",paginaAtiva:"busca_paginaAtiva__oGQpX",previousLabel:"busca_previousLabel__2tse9",hidePrevious:"busca_hidePrevious__CopWC",nextLabel:"busca_nextLabel__y5nNd"}},8218:function(e){e.exports={cardAnuncio:"cardAnuncio_cardAnuncio__VCte1",envolveImagemVeiculo:"cardAnuncio_envolveImagemVeiculo__T1Q42",imagemVeiculo:"cardAnuncio_imagemVeiculo__0yln_",envolveImagemSemFoto:"cardAnuncio_envolveImagemSemFoto__OoKzb",skeletonCardAnuncio:"cardAnuncio_skeletonCardAnuncio__exDM_",fundoCardAnuncio:"cardAnuncio_fundoCardAnuncio__OD_cH",detalhes:"cardAnuncio_detalhes__rr5M7",modelo:"cardAnuncio_modelo__Zyc_u",ano:"cardAnuncio_ano__PHPfk",preco:"cardAnuncio_preco__gVtHS",semImagem:"cardAnuncio_semImagem__yffJK"}},2017:function(e){e.exports={listagemAnuncios:"listagemVeiculos_listagemAnuncios__uT7iz",anuncios:"listagemVeiculos_anuncios__Qy5eC",listagemSemAnuncio:"listagemVeiculos_listagemSemAnuncio__BDdpN"}},2788:function(e){e.exports={container:"estoque_container___6rSD"}}},function(e){e.O(0,[937,609,874,16,774,888,179],function(){return e(e.s=1974)}),_N_E=e.O()}]);