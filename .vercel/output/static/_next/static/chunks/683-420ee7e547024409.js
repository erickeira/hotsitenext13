"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[683],{9916:function(e,a,s){s.d(a,{Z:function(){return c}});var l=s(5893),i=s(7294),t=s(1163),r=s(8596);s(134),s(4398);var n=s(5675),o=s.n(n),d=s(926);function c(e){let a=(0,t.useRouter)(),[s,n]=(0,i.useState)(!1);a.query;let c=()=>n(!1),m=()=>n(!0);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"content-header",children:(0,l.jsxs)("div",{className:"d-flex align-items-center justify-content-between container py-4",children:[(0,l.jsx)("h1",{className:"font-20 font-md-28 text-center text-md-left m-0 text-white",children:e.title}),(0,l.jsx)("button",{onClick:m,className:"p-1 m-0 bg-transparent botaoLupa border-0 d-block d-md-none",children:(0,l.jsx)(o(),{src:"/svg/search.svg",width:30,height:30,alt:"busca"})})]})}),(0,l.jsx)(r.Z,{className:"modal-style",centered:!0,show:s,onHide:c,children:(0,l.jsx)(r.Z.Body,{className:"p-4",children:(0,l.jsx)(d.Z,{show:s,formulario:e.formulario,callbackclose:c})})})]})}},926:function(e,a,s){s.d(a,{Z:function(){return m}});var l=s(5893),i=s(7294),t=s(4398),r=s(9020),n=s(1163),o=s(134),d=s(9072);let c={menuPortal:e=>({...e,zIndex:9999,fontSize:14}),menuList:e=>({...e,"::-webkit-scrollbar":{width:"4px",height:"0px"},"::-webkit-scrollbar-track":{background:"#f1f1f1"},"::-webkit-scrollbar-thumb":{background:"#888"},"::-webkit-scrollbar-thumb:hover":{background:"#555"}})};function m(e){let a=(0,n.useRouter)(),s=a.query,{finalidades:m,tipoimoveis:h,estados:u,valores:x,loadingDados:v,setValores:p}=(0,i.useContext)(o.V),{callbackclose:f}=e,b=m.map(e=>({value:e,label:e})),[j,g]=(0,i.useState)(!1),[N,w]=(0,i.useState)(e.formulario?e.formulario:s||[]),[y,k]=(0,i.useState)([]),[C,P]=(0,i.useState)([]),{valor_minimo:I,valor_maximo:R}=x;async function S(){let e=await (0,d.VQ)("");return p({...x,valor_minimo:parseInt(e.valor_minimo),valor_maximo:parseInt(e.valor_maximo)})}async function O(e,a){if("finalidade"===e){let e=await (0,d.VQ)(a);return p({...x,valor_minimo:parseInt(e.valor_minimo),valor_maximo:parseInt(e.valor_maximo)}),w({...N,finalidade:a,valorde:parseInt(e.valor_minimo),valorate:parseInt(e.valor_maximo)})}return"tipo"===e?w({...N,tipo:a}):"uf"===e?(w({...N,uf:a}),k([{value:"",label:"Carregando"}]),k((await (0,d.P6)("cidades",a)).cidades)):"cidade"===e?(w({...N,cidade:a}),P([{value:"",label:"Carregando"}]),P((await (0,d.P6)("bairros",a)).bairros)):"bairro"===e?w({...N,bairro:a}):void 0}async function _(){return(f&&f(),N.finalidade&&void 0!==N)?(g(!1),a.push({pathname:"/busca",query:N})):(w({...N,finalidade:"",valorde:parseInt(I),valorate:parseInt(R)}),a.push({pathname:"/busca",query:w}))}return(0,i.useEffect)(()=>{(null===R&&null===I||isNaN(R)&&isNaN(I))&&S()},[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h2",{className:"font-24 m-0 pb-3 color-primary",children:"Encontre no Site"}),(0,l.jsx)("div",{className:"flex-grow-1",children:(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col-12 pb-2 mb-1",children:(0,l.jsx)(r.ZP,{className:"select",classNamePrefix:"react-select",value:b.find(e=>e.value==N.finalidade),placeholder:"FINALIDADE",onChange:e=>O("finalidade",e.value),options:b,styles:c})}),(0,l.jsx)("div",{className:"col-12 pb-2 mb-1",children:(0,l.jsx)(r.ZP,{className:"select",classNamePrefix:"react-select",value:h.find(e=>e.value==N.tipo),placeholder:"TIPO DO IM\xd3VEL",onChange:e=>O("tipo",e.value),options:h,styles:c})}),(0,l.jsx)("div",{className:"col-12 col-md-4 pb-2 mb-1 pr-3 pr-md-0",children:(0,l.jsx)(r.ZP,{className:"select",classNamePrefix:"react-select",placeholder:"UF",value:u.find(e=>e.value==N.uf),onChange:e=>O("uf",e.value),options:u,styles:c})}),(0,l.jsx)("div",{className:"col-12 col-md-8 pb-2 mb-1 pl-3 pl-md-0",children:(0,l.jsx)(r.ZP,{className:"select",classNamePrefix:"react-select",value:null==y?void 0:y.find(e=>e.value==N.cidade),placeholder:"CIDADE",onChange:e=>O("cidade",e.value),options:y,noOptionsMessage:()=>"Selecione",styles:c})}),(0,l.jsx)("div",{className:"col-12 pb-2 mb-2",children:(0,l.jsx)(r.ZP,{className:"select",classNamePrefix:"react-select",placeholder:"BAIRRO",value:C.find(e=>e.value==N.bairro),onChange:e=>O("bairro",e.value),options:C,styles:c,noOptionsMessage:()=>"Selecione"})}),(0,l.jsxs)("div",{className:"col-12 pb-2 mb-1",children:[(0,l.jsx)("label",{className:"d-block font-12 pb-3 ms-2",children:(0,l.jsx)("div",{className:"imputValorDesejado react-select__control ",children:"VALOR DESEJADO"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)(t.Range,{min:parseInt(I),max:parseInt(R),values:[N.valorde||I||0,N.valorate||R||100],allowCross:!1,allowOverlap:!0,onChange:e=>{var a;return a={valorde:e[0],valorate:e[1]},void w({...N,...a})},renderTrack:e=>{let{props:a,children:s}=e;return(0,l.jsx)("div",{...a,style:{...a.style,height:"6px",width:"100%",backgroundColor:"#ccc"},children:s})},renderThumb:e=>{let{props:a}=e;return(0,l.jsx)("div",{...a,style:{...a.style,height:"20px",width:"20px",borderRadius:"5px",backgroundColor:"#48AAF0"}})}}),(0,l.jsxs)("div",{className:"d-flex justify-content-between font-12 pt-3 pb-1 text-center",children:[v?(0,l.jsx)("div",{style:{backgroundColor:"#d1d1d1",height:15,width:80}}):(0,l.jsxs)("div",{children:["R$  ",(0,d.ed)(N.valorde||I||0)," "]}),v?(0,l.jsx)("div",{style:{backgroundColor:"#d1d1d1",height:15,width:80}}):(0,l.jsxs)("div",{children:["R$  ",(0,d.ed)(N.valorate||R||0)," "]})]})]})]})]})}),(0,l.jsxs)("button",{type:"button",className:"btn btn-primary font-weight-bold font-14 w-100 py-3",onClick:()=>_(),disabled:!!j,children:[j&&(0,l.jsx)("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),j?"BUSCANDO":"BUSCAR AGORA"]})]})}},7683:function(e,a,s){s.d(a,{Z:function(){return g}});var l=s(5893),i=s(7294),t=s(1664),r=s.n(t),n=s(5675),o=s.n(n),d=s(8447),c=s(9916),m={src:"/_next/static/media/place.6b3bd91d.svg",height:49,width:34,blurWidth:0,blurHeight:0},h=s(4398),u=s(9020),x=s(9072);let v={menuPortal:e=>({...e,zIndex:9999,fontSize:14}),menuList:e=>({...e,"::-webkit-scrollbar":{width:"4px",height:"0px"},"::-webkit-scrollbar-track":{background:"#f1f1f1"},"::-webkit-scrollbar-thumb":{background:"#888"},"::-webkit-scrollbar-thumb:hover":{background:"#555"}})};function p(e){let{valores:a,formulario:s,estados:i,arrayFinalidades:t,tipoimoveis:r,cidades:n,bairro:o,handleOptionChange:d,mudarDadosFormulario:c,handleSubmit:m,loading:p}=e,{valor_minimo:f,valor_maximo:b}=a;return(0,l.jsx)("div",{className:"d-none d-md-block searchbox mt-2 mt-md-5 ",children:(0,l.jsxs)("div",{className:"row shadow mx-0 p-4",children:[(0,l.jsx)("div",{className:"col-3",children:(0,l.jsx)(u.ZP,{className:"select",classNamePrefix:"react-select",value:t.find(e=>e.value==s.finalidade?s.finalidade:""),placeholder:"FINALIDADE",onChange:e=>d("finalidade",e.value),options:t,styles:v})}),(0,l.jsx)("div",{className:"col-3",children:(0,l.jsx)(u.ZP,{className:"select",classNamePrefix:"react-select",value:r.find(e=>e.value==s.tipo),placeholder:"TIPO IM\xd3VEL",onChange:e=>d("tipo",e.value),options:r,styles:v})}),(0,l.jsx)("div",{className:"col-2",children:(0,l.jsx)(u.ZP,{className:"select",classNamePrefix:"react-select",value:i.find(e=>e.value==s.uf),placeholder:"UF",onChange:e=>d("uf",e.value),options:i,styles:v})}),(0,l.jsx)("div",{className:"col-4",children:(0,l.jsx)(u.ZP,{className:"select",classNamePrefix:"react-select",value:null==n?void 0:n.find(e=>e.value==s.cidade),placeholder:"CIDADE",onChange:e=>d("cidade",e.value),options:n,noOptionsMessage:()=>"Selecione",styles:v})}),(0,l.jsx)("div",{className:"col-3 pt-3",children:(0,l.jsx)(u.ZP,{className:"select",classNamePrefix:"react-select",value:null==o?void 0:o.find(e=>e.value==s.bairro),placeholder:"BAIRRO",onChange:e=>d("bairro",e.value),options:o,noOptionsMessage:()=>"Selecione",styles:v})}),(0,l.jsxs)("div",{className:"col-5 pt-3",children:[(0,l.jsx)("label",{className:"d-block  imputValorDesejadoB font-14 select pb-3 ms-3",children:"VALOR DESEJADO"}),(0,l.jsxs)("div",{children:[(0,l.jsx)(h.Range,{min:parseInt(f),max:parseInt(b),values:[s.valorde||f||0,s.valorate||b||100],allowCross:!1,allowOverlap:!0,onChange:e=>c({valorde:e[0],valorate:e[1]}),renderTrack:e=>{let{props:a,children:s}=e;return(0,l.jsx)("div",{...a,style:{...a.style,height:"6px",width:"100%",backgroundColor:"#ccc"},children:s})},renderThumb:e=>{let{props:a}=e;return(0,l.jsx)("div",{...a,style:{...a.style,height:"20px",width:"20px",borderRadius:"5px",backgroundColor:"#48AAF0"}})}}),(0,l.jsxs)("div",{className:"d-flex justify-content-between font-12 pt-3 pb-1 text-center",children:[(0,l.jsxs)("div",{children:["R$ ",(0,x.ed)(s.valorde||f||0)]}),(0,l.jsxs)("div",{children:["R$ ",(0,x.ed)(s.valorate||b||0)]})]})]})]}),(0,l.jsx)("div",{className:"col-3 pt-4 ms-5",children:(0,l.jsxs)("button",{type:"button",className:"btn btn-primary font-14 w-100 py-2",onClick:()=>m(),disabled:!!p,children:[p&&(0,l.jsx)("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),p?"BUSCANDO":"BUSCAR AGORA"]})})]})})}var f=s(134),b=s(1163);function j(e){return(0,l.jsx)("div",{className:"skeleton-root ".concat(e.className&&e.className),style:{width:e.width,height:e.height}})}function g(e){let a=(0,b.useRouter)(),s=a.query,{finalidadePagina:t}=e,[n,h]=(0,i.useState)(!0),[v,g]=(0,i.useState)([]),[N,w]=(0,i.useState)(""),{finalidades:y,tipoimoveis:k,estados:C,valores:P,setValores:I}=(0,i.useContext)(f.V),[R,S]=(0,i.useState)({finalidade:t||""}),[O,_]=(0,i.useState)(!0),[A,D]=(0,i.useState)(!0),[Z,L]=(0,i.useState)([]),[E,F]=(0,i.useState)([]),V=y.map(e=>({value:e,label:e}));async function U(){S({...R,...s}),(s.uf||s.cidade)&&(s.uf&&await q(s.uf),s.cidade&&await M(s.cidade)),_(!1)}(0,i.useEffect)(()=>{t&&B(R),_(!1),h(!0)},[]),(0,i.useEffect)(()=>{Object.keys(s).length&&(U(),B(s),h(!0))},[s]);let B=async e=>{D(!0);let a={};a=e?JSON.stringify({...e}):JSON.stringify({...R});let s=await fetch("api/getBusca",{method:"POST",body:a});t&&T("finalidade",t);let l=await s.json();g(l.busca.imoveis),w(l.busca.total_registros),D(!1)};async function q(e){let a=await (0,x.P6)("cidades",e);L(a.cidades)}async function M(e){let a=await (0,x.P6)("bairros",e);F(a.bairros)}async function T(e,a){switch(e){case"finalidade":let s=await (0,x.VQ)(a);I({...P,valor_minimo:parseInt(s.valor_minimo),valor_maximo:parseInt(s.valor_maximo)}),S({...R,finalidade:a,valorde:parseInt(s.valor_minimo),valorate:parseInt(s.valor_maximo),bairro:"",cidade:"",uf:"",tipo:""});break;case"tipo":S({...R,tipo:a});break;case"uf":S({...R,uf:a}),L([{value:"",label:"Carregando"}]),q(a);break;case"cidade":S({...R,cidade:a}),F([{value:"",label:"Carregando"}]),M(a);break;case"bairro":S({...R,bairro:a});break;case"valorde":S({...R,valorde:a});break;case"valorate":S({...R,valorate:a})}}async function $(e){D(!0),a.push({pathname:"/busca",query:{...R,pg:1,...e}},void 0,{shallow:!0})}let z=[];for(let e=0;e<x.Pp;e++)z[e]=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"main",children:[(0,l.jsx)(c.Z,{title:t||"Resultado da Busca",formulario:R,noSearch:!0}),(0,l.jsxs)("div",{className:"container px-4 px-sm-0",children:[(0,l.jsx)(p,{loadingDados:!1,loading:A,finalidade:y,arrayFinalidades:V,tipoimoveis:k,formulario:R,estados:C,cidades:Z,bairro:E,valores:P,handleOptionChange:(e,a)=>T(e,a),mudarDadosFormulario:e=>{S({...R,...e})},handleSubmit:()=>$()}),A&&n&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("header",{className:"".concat(n?"d-flex ":"d-none ","justify-content-between align-items-md-center flex-column flex-md-row pt-2 pt-md-5"),children:[(0,l.jsx)(j,{width:195,height:27,className:"d-none d-md-block"}),(0,l.jsx)(j,{width:200,height:38})]}),(0,l.jsx)("div",{className:"row pt-2 pb-5",children:z.map((e,a)=>(0,l.jsx)("div",{className:"col-12 col-md-6 col-xl-3 py-4",children:(0,l.jsxs)("div",{className:"d-flex flex-column shadow h-100 item-grid",children:[(0,l.jsx)("div",{className:"foto position-relative",children:(0,l.jsx)(j,{className:"skeleton-absolute"})}),(0,l.jsxs)("div",{className:"d-flex flex-grow-1 flex-column px-3 py-3",children:[(0,l.jsxs)("div",{className:"flex-grow-2",children:[(0,l.jsx)(j,{width:100,height:12}),(0,l.jsx)(j,{className:"mt-1",width:120,height:24})]}),(0,l.jsx)("div",{className:"d-flex infos flex-grow-1 align-items-center py-3",children:(0,l.jsx)(j,{width:177,height:11})}),(0,l.jsx)("div",{className:"endereco font-12 line-height-130 pl-0",children:(0,l.jsx)(j,{width:200,height:32})})]})]})},a))})]}),!A&&(null==v?void 0:v.length)>0?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("header",{className:"d-flex topo-grid justify-content-between align-items-md-center flex-column flex-md-row pt-2 pt-md-5",children:[(0,l.jsx)("div",{className:"d-none d-md-block font-14 font-md-18 qtde pr-5",children:(0,l.jsx)("b",{className:"pr-2",children:N>1?"".concat(N," im\xf3veis"):"".concat(N," im\xf3vel")})}),(0,l.jsx)("div",{children:(0,l.jsx)(u.ZP,{className:"select filtro filtroOrdenar",classNamePrefix:"react-select",defaultInputValue:"",onChange:e=>$({ordenacao:e.value}),name:"",placeholder:"Ordenar",options:[{label:"Ordena\xe7\xe3o",value:""},{label:"Recentes",value:"recentes"},{label:"Relev\xe2ncia",value:"relevancia"},{label:"Menor Valor",value:"menorvalor"},{label:"Maior Valor",value:"maiorvalor"}],styles:{menu:e=>({...e,zIndex:10})}})})]}),(0,l.jsx)("div",{className:"row pt-2 pb-5",children:v.map(e=>(0,l.jsx)("div",{className:"col-12 col-md-6 col-xl-3 py-4",children:(0,l.jsxs)(r(),{href:"/imovel/".concat(e.id),className:"d-flex flex-column shadow h-100 item-grid",children:[(0,l.jsxs)("div",{className:"foto position-relative",children:[e.imagem?(0,l.jsx)(o(),{src:e.imagem,loader:x.O,alt:e.tipo,width:"290",height:"100",blurDataURL:"URL",placeholder:"blur"}):"",!e.imagem&&e.maisimagens?(0,l.jsx)(o(),{src:"/img/sm-1foto.jpg",alt:e.tipo,width:"290",height:"100",blurDataURL:"URL",placeholder:"blur"}):"",e.imagem||e.maisimagens?"":(0,l.jsx)(o(),{src:"/img/sm-foto.jpg",alt:e.tipo,width:"290",height:"100",blurDataURL:"URL",placeholder:"blur"})]}),(0,l.jsxs)("div",{className:"d-flex flex-grow-1 flex-column px-3 py-3",children:[(0,l.jsxs)("div",{className:"flex-grow-2",children:[(0,l.jsxs)("div",{className:"font-12 font-md-11 line-height-100",children:[e.finalidade,e.tipo&&(0,l.jsxs)("small",{className:"ml-1 font-italic opacity-50 espa\xe7o-card-destaque",children:["(",e.tipo,")"]})]}),(0,l.jsx)("div",{className:"font-20 color-primary",children:e.valor?(0,l.jsxs)("b",{children:["R$ ",(0,x.ed)(e.valor)]}):(0,l.jsx)("b",{children:"Consulte-nos"})}),e.valor_condominio&&(0,l.jsxs)("div",{className:"font-12 font-md-11 line-height-100",children:["Condom\xednio: R$ ",(0,x.ed)(e.valor_condominio)]})]}),(0,l.jsx)("div",{className:"d-flex infos flex-grow-1 align-items-center py-3",children:(0,l.jsxs)("div",{className:"d-flex",children:[0!=e.dormitorios&&(0,l.jsx)("div",{className:"info info-dormitorios font-12 font-md-11 line-height-100 pr-3",children:(0,l.jsx)("div",{children:e.dormitorios})}),0!=e.banheiros&&(0,l.jsx)("div",{className:"info info-banheiros font-12 font-md-11 line-height-100 pr-3",children:(0,l.jsx)("div",{children:e.banheiros})}),0!=e.area&&(0,l.jsx)("div",{className:"info info-area font-12 font-md-11 line-height-100 pr-3",children:(0,l.jsxs)("div",{children:[e.area," m",(0,l.jsx)("sup",{children:"2"})]})})]})}),(0,l.jsxs)("div",{className:"endereco font-12 line-height-130",children:[(0,l.jsx)(o(),{src:m,loader:x.L7,alt:"place",width:"290",height:"100"}),"".concat(e.bairro," | ").concat(e.cidade,"/").concat(e.uf)]})]})]})},e.id))}),N>x.Pp&&(0,l.jsx)("div",{className:"d-flex justify-content-center pt-2 pb-5 pagination-container",children:(0,l.jsx)(d.Z,{hideFirstLastPages:!0,activePage:parseInt(s.pg)?parseInt(s.pg):1,itemsCountPerPage:x.Pp,totalItemsCount:N,pageRangeDisplayed:5,onChange:e=>{a.push({pathname:"/busca",query:{...R,pg:e}})}})})]}):(0,l.jsx)("div",{className:"text-center py-5 my-5 font-32 opacity-50",children:"Nenhum im\xf3vel encontrado"})]})]})})}}}]);