(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[805],{3805:function(e,a,o){"use strict";o.d(a,{Z:function(){return g}});var n=o(5893),s=o(5325),l=o(7294),c=o(7910),i=o.n(c),t=o(7516),u=o(3990),r=o(4639),d=o(6461),m=o(1163),_=o(1358),v=o.n(_);function g(e){let{categoria:a,resultados:o,titulo:c,ordenacao:_=!0,temPaginacao:g}=e,[h,p]=(0,l.useState)([]),[x,b]=(0,l.useState)("Marca"),[j,f]=(0,l.useState)([]),[N,y]=(0,l.useState)("Modelo"),[A,M]=(0,l.useState)([]),[S,w]=(0,l.useState)(!0),[C,O]=(0,l.useState)(!0),[V,P]=(0,l.useState)(0),Z=[{value:"",label:"Ordenar"},{value:"maiorvalor",label:"Maior valor"},{value:"menorvalor",label:"Menor valor"},{value:"marca",label:"Marca"},{value:"modelo",label:"Modelo"},{value:"ano",label:"Ano"}],[q,T]=(0,l.useState)(""),k=(0,m.useRouter)(),{view:E}=k.query,I=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;k.push("/estoque?marca=".concat(e,"&modelo=").concat(a,"&ordenacao=").concat(o,"&pagina=").concat(n))};function B(){let e=k.query;L(e.marca,e.modelo,e.ordenacao,e.pagina),e&&(e.marca&&b(e.marca),e.modelo&&y(e.modelo),e.ordenacao&&T(e.ordenacao),e.pagina&&P(e.pagina))}async function L(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,c=JSON.stringify({acoes:[{acao:a||"estoque",params:{resultados:o||20,ordenacao:s,marca:"Marca"==e?"":e,modelo:"Modelo"==n?"":n,pagina:l}}],loja:r.eP}),i=await fetch(r.rO,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:c}),t=await i.json();M(t[a||"estoque"]),O(!1)}async function D(){let e=JSON.stringify({acoes:[{acao:"marcas",params:{loja:r.eP}}],loja:r.eP}),a=await fetch(r.rO,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e}),o=await a.json();p(o.marcas)}async function F(){let e=JSON.stringify({acoes:[{acao:"modelos",params:{marca:x}}],loja:r.eP}),a=await fetch(r.rO,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e}),o=await a.json();f(o.modelos)}return(0,l.useEffect)(()=>{w(!1),B(),D()},[]),(0,l.useEffect)(()=>{O(!0),B()},[k.query]),(0,l.useEffect)(()=>{"Marca"!=x&&F()},[x]),(0,n.jsxs)("div",{className:i().envolveBusca,children:[(0,n.jsxs)("div",{className:i().buscaVeiculos,children:[(0,n.jsx)("p",{className:i().titulo,children:c||"Estoque"}),(0,n.jsxs)("form",{className:i().busca,children:[S?null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.ZP,{className:i().buscaMarcas,options:[{value:"Marca",label:"Marca"},...null==h?void 0:h.map((e,a)=>({value:e.mar_nome,label:e.mar_nome}))],defaultValue:{value:"Marca",label:"Marca"},onChange:e=>{b(e.value),y("Modelo"),f([]),T("")},value:{value:x,label:x},instanceId:"selectMarcas"}),(0,n.jsx)(s.ZP,{className:i().buscaModelos,options:[{value:"Modelo",label:"Modelo"},...null==j?void 0:j.map((e,a)=>({value:e.vei_modelo,label:e.vei_modelo}))],defaultValue:{value:"Modelo",label:"Modelo"},onChange:e=>{y(e.value),T("")},value:{value:N,label:N},instanceId:"selectModelos"})]}),(0,n.jsxs)("button",{type:"button",onClick:()=>I(x,N),children:[(0,n.jsx)(t.Goc,{style:{fontSize:"17"}})," Buscar "]})]})]}),_?(0,n.jsxs)("div",{className:i().envolveOrdenacao,children:[(0,n.jsxs)("span",{className:i().veiculosEncontradosTexto,children:[A.total," ve\xedculos encontrados"]}),(0,n.jsx)(s.ZP,{className:i().selectOrdenacao,options:Z,defaultValue:{value:"Ordenar",label:"Ordenar"},onChange:e=>I(k.query.marca||x,k.query.modelo||N,e.value),value:Z.find(e=>{e.value}),instanceId:"selectOrdenacao"})]}):null,(0,n.jsx)(d.Z,{anuncios:null==A?void 0:A.anuncios,loading:C}),(0,n.jsx)("div",{children:g?(0,n.jsx)(v(),{previousLabel:(0,n.jsx)(u.Fjg,{style:{color:"#000000",marginBottom:-2}}),nextLabel:(0,n.jsx)(u.W3E,{style:{color:"#000000",marginBottom:-2}}),pageCount:(null==A?void 0:A.total_paginas)||1,onPageChange:e=>{I(k.query.marca||x,k.query.modelo||N,k.query.ordenacao||q,e.selected+1)},containerClassName:"pagination",activeClassName:i().paginaAtiva,className:i().envolvePaginacao,previousClassName:1==V?i().previousLabel:null,nextClassName:V==A.total_paginas?i().nextLabel:null,forcePage:V-1}):null})]})}},2627:function(e,a,o){"use strict";var n=o(5893),s=o(5675),l=o.n(s),c=o(8218),i=o.n(c),t=o(4639),u=o(6039);let r=e=>{let{anuncio:a,loading:o}=e;return o?(0,n.jsxs)("div",{className:i().cardAnuncio,children:[(0,n.jsx)("span",{className:i().detalhes,children:"Ver detalhes"}),(0,n.jsx)("div",{className:i().envolveImagemVeiculo,children:(0,n.jsx)(u.Z,{height:"120%"})}),(0,n.jsx)("p",{className:i().modelo,children:(0,n.jsx)(u.Z,{width:"50%"})}),(0,n.jsx)("span",{className:[i().ano,{color:""}],children:(0,n.jsx)(u.Z,{width:40})}),(0,n.jsx)("div",{className:i().preco,children:(0,n.jsx)(u.Z,{width:"50%"})})]}):(0,n.jsxs)("div",{className:i().cardAnuncio,children:[(0,n.jsx)("span",{className:i().detalhes,children:"Ver detalhes"}),(0,n.jsx)("div",{className:i().envolveImagemVeiculo,children:a.vei_foto?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l(),{className:i().imagemVeiculo,loader:t.Hu,fill:!0,priority:"high",sizes:"(max-width: 100px) 100vw",alt:a.vei_modelo,src:"".concat(a.vei_foto)}),(0,n.jsx)(u.Z,{className:i().skeletonCardAnuncio})]}):(0,n.jsxs)("div",{className:i().semImagem,children:[(0,n.jsx)(l(),{fill:!0,priority:"high",className:i().imagemVeiculo,alt:a.vei_modelo,src:"/img/sem-foto.jpg",sizes:"(max-width: 100px) 100vw"})," "]})}),(0,n.jsx)("p",{className:i().modelo,children:a.vei_modelo}),(0,n.jsxs)("span",{className:i().ano,children:[a.vei_ano," - ",a.cor_nome]}),(0,n.jsx)("div",{className:i().preco,children:a.vei_preco?(0,t.pP)(a.vei_preco):"Consulte-nos."})]})};a.Z=r},6461:function(e,a,o){"use strict";o.d(a,{Z:function(){return r}});var n=o(5893);o(7294);var s=o(2627),l=o(4639),c=o(2017),i=o.n(c),t=o(1664),u=o.n(t);function r(e){let{anuncios:a,loading:o}=e,c=o?Array.from({length:8},(e,a)=>a):a;return c?(0,n.jsx)("div",{className:i().listagemAnuncios,children:c.map(e=>o?(0,n.jsx)(s.Z,{anuncio:e,loading:o},e):(0,n.jsx)(u(),{href:"/".concat((0,l.Yy)(e.mar_nome),"-").concat((0,l.Yy)(e.vei_modelo),"/").concat(e.vei_id),className:i().anuncios,children:(0,n.jsx)(s.Z,{anuncio:e,loading:o})},e.vei_id))}):(0,n.jsx)("div",{className:i().listagemSemAnuncio,children:"Nenhum anuncio encontrado!"})}},7910:function(e){e.exports={envolveBusca:"busca_envolveBusca__Oq0Nu",buscaVeiculos:"busca_buscaVeiculos__N4cNu",titulo:"busca_titulo__FrjlA",envolveOrdenacao:"busca_envolveOrdenacao__BsicN",veiculosEncontradosTexto:"busca_veiculosEncontradosTexto__X0tgb",selectOrdenacao:"busca_selectOrdenacao__OmgFl",painelAnuncios:"busca_painelAnuncios__ZN13K",anunciosDestaque:"busca_anunciosDestaque__SKaXM",listagemAnuncios:"busca_listagemAnuncios__mG9sK",listagemSemAnuncio:"busca_listagemSemAnuncio__Po0So",busca:"busca_busca__6h6Zc",buscaMarcas:"busca_buscaMarcas__hyk2S",buscaModelos:"busca_buscaModelos__biUy9",envolvePaginacao:"busca_envolvePaginacao__AT5y3",paginaAtiva:"busca_paginaAtiva__oGQpX",previousLabel:"busca_previousLabel__2tse9",nextLabel:"busca_nextLabel__y5nNd"}},8218:function(e){e.exports={cardAnuncio:"cardAnuncio_cardAnuncio__VCte1",envolveImagemVeiculo:"cardAnuncio_envolveImagemVeiculo__T1Q42",imagemVeiculo:"cardAnuncio_imagemVeiculo__0yln_",skeletonCardAnuncio:"cardAnuncio_skeletonCardAnuncio__exDM_",fundoCardAnuncio:"cardAnuncio_fundoCardAnuncio__OD_cH",detalhes:"cardAnuncio_detalhes__rr5M7",modelo:"cardAnuncio_modelo__Zyc_u",ano:"cardAnuncio_ano__PHPfk",preco:"cardAnuncio_preco__gVtHS",semImagem:"cardAnuncio_semImagem__yffJK"}},2017:function(e){e.exports={listagemAnuncios:"listagemVeiculos_listagemAnuncios__uT7iz",anuncios:"listagemVeiculos_anuncios__Qy5eC",listagemSemAnuncio:"listagemVeiculos_listagemSemAnuncio__BDdpN"}}}]);